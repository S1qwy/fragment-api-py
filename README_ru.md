# Fragment API Python Library - –ü–æ–ª–Ω–∞—è –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

[![Python 3.7+](https://img.shields.io/badge/python-3.7+-blue.svg)](https://www.python.org/downloads/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![PyPI version](https://img.shields.io/badge/pypi-v3.2.0-blue.svg)](https://pypi.org/project/fragment-api-py/)

**–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è Python –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è API Fragment.com —Å –ø–æ–ª–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –≤–µ—Ä—Å–∏–π –∫–æ—à–µ–ª—å–∫–æ–≤ TON, –ø–ª–∞—Ç–µ–∂–µ–π Telegram –∏ –ø—Ä—è–º—ã—Ö –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–Ω—ã—Ö –ø–µ—Ä–µ–≤–æ–¥–æ–≤.**

## –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

- [–û–±–∑–æ—Ä](#–æ–±–∑–æ—Ä)
- [–ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏](#–∫–ª—é—á–µ–≤—ã–µ-–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏)
- [–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–µ—Ä—Å–∏–π –∫–æ—à–µ–ª—å–∫–æ–≤](#–ø–æ–¥–¥–µ—Ä–∂–∫–∞-–≤–µ—Ä—Å–∏–π-–∫–æ—à–µ–ª—å–∫–æ–≤)
- [–£—Å—Ç–∞–Ω–æ–≤–∫–∞](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞)
- [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
- [–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ](#—Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ-–ø–æ-–Ω–∞—Å—Ç—Ä–æ–π–∫–µ)
- [–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ API](#—Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫-api)
- [–û–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π](#–æ–±—Ä–∞–±–æ—Ç–∫–∞-–∏—Å–∫–ª—é—á–µ–Ω–∏–π)
- [–ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö](#–º–æ–¥–µ–ª–∏-–¥–∞–Ω–Ω—ã—Ö)
- [–ü—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ](#–ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–µ-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ)
- [–õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏](#–ª—É—á—à–∏–µ-–ø—Ä–∞–∫—Ç–∏–∫–∏)
- [–†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º](#—Ä–µ—à–µ–Ω–∏–µ-–ø—Ä–æ–±–ª–µ–º)

---

## –û–±–∑–æ—Ä

Fragment API Python Library - —ç—Ç–æ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –ø–ª–∞—Ç–µ–∂–µ–π Telegram –≤ Python –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –û–Ω–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∫–∞–∫ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ, —Ç–∞–∫ –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–≤–µ–∑–¥ Telegram, –ø–æ–¥–ø–∏—Å–æ–∫ Premium –∏ –ø—Ä—è–º—ã—Ö –ø–µ—Ä–µ–≤–æ–¥–æ–≤ TON —Å –ø–æ–ª–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π –±–ª–æ–∫—á–µ–π–Ω–∞.

**–¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è:** 3.2.0

---

## –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÖ **–î–≤–æ–π–Ω–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ async/await –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –±–ª–æ–∫–∏—Ä—É—é—â–∏—Ö –≤—ã–∑–æ–≤–æ–≤
- ‚úÖ **–¢—Ä–∏ –ø–ª–∞—Ç–µ–∂–Ω—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–∞** - –ó–≤–µ–∑–¥—ã Telegram, –ø–æ–¥–ø–∏—Å–∫–∏ Premium, –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ TON
- ‚úÖ **–ü—Ä—è–º—ã–µ –ø–µ—Ä–µ–≤–æ–¥—ã TON** - –û—Ç–ø—Ä–∞–≤–ª—è–π—Ç–µ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—É –Ω–∞ –ª—é–±–æ–π –∞–¥—Ä–µ—Å —Å –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π –º–µ–º–æ—Ä–∞–Ω–¥—É–º–æ–º
- ‚úÖ **–ü–æ–∏—Å–∫ –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π** - –ü–æ–ª—É—á–∞–π—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ –∏ –∞–≤–∞—Ç–∞—Ä–µ –ø–µ—Ä–µ–¥ –ø–ª–∞—Ç–µ–∂–æ–º
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–∞** - –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç–µ –Ω–µ—É–¥–∞—á–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Å –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–æ–π
- ‚úÖ **–ü–æ–ª–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è** - –ü–æ–ª–Ω–∞—è –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è —Ç–∏–ø–æ–≤ –¥–ª—è –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏—è IDE
- ‚úÖ **–ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** - –°–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏—è –æ—à–∏–±–æ–∫

### –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üîê **–ù–µ—Å–∫–æ–ª—å–∫–æ –≤–µ—Ä—Å–∏–π –∫–æ—à–µ–ª—å–∫–æ–≤** - V3R1, V3R2, V4R2, V5R1/W5 (–ù–û–í–û–ï –≤ 3.2.0)
- üîÑ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ª–æ–≥–∏–∫–∞ –ø–æ–≤—Ç–æ—Ä–æ–≤** - –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ –æ—à–∏–±–æ–∫ —Å–µ—Ç–∏ —Å —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π –∑–∞–¥–µ—Ä–∂–∫–æ–π
- üìù **–î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - –û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ –≤—Å–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è API –∏ –æ—Ç–ª–∞–∂–∏–≤–∞–π—Ç–µ –ø—Ä–æ–±–ª–µ–º—ã
- üëÅÔ∏è **–ö–æ–Ω—Ç—Ä–æ–ª—å –≤–∏–¥–∏–º–æ—Å—Ç–∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è** - –ê–Ω–æ–Ω–∏–º–Ω—ã–µ –∏–ª–∏ –≤–∏–¥–∏–º—ã–µ –ø–ª–∞—Ç–µ–∂–∏
- ‚ö° **–í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –û–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è –ø–∞–∫–µ—Ç–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
- üõ°Ô∏è **–í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö** - –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ —Å—É–º–º—ã
- üîå **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–≥–æ –º–µ–Ω–µ–¥–∂–µ—Ä–∞** - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤

---

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–µ—Ä—Å–∏–π –∫–æ—à–µ–ª—å–∫–æ–≤

### –ù–û–í–û–ï –≤ –≤–µ—Ä—Å–∏–∏ 3.2.0: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –≤–µ—Ä—Å–∏–π –∫–æ—à–µ–ª—å–∫–æ–≤

–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ —Ç–µ–ø–µ—Ä—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç **5 —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –≤–µ—Ä—Å–∏–π –∫–æ—à–µ–ª—å–∫–æ–≤ TON** —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –≤–µ—Ä—Å–∏–π:

| –í–µ—Ä—Å–∏—è | –ù–∞–∑–≤–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å | –í–∞—Ä–∏–∞–Ω—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è |
|--------|----------|--------|----------------------|
| **V3R1** | WalletV3R1 | –£—Å—Ç–∞—Ä–µ–≤—à–∞—è | –°—Ç–∞—Ä—ã–µ –∫–æ—à–µ–ª—å–∫–∏, —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å |
| **V3R2** | WalletV3R2 | –£—Å—Ç–∞—Ä–µ–≤—à–∞—è | –°—Ç–∞—Ä—ã–µ –∫–æ—à–µ–ª—å–∫–∏, —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å |
| **V4R2** | WalletV4R2 | **–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è** | –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è, –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å |
| **V5R1** | WalletV5R1 | –ü–æ—Å–ª–µ–¥–Ω—è—è | –ù–æ–≤—ã–µ –∫–æ—à–µ–ª—å–∫–∏, —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ |
| **W5** | –ü—Å–µ–≤–¥–æ–Ω–∏–º –¥–ª—è V5R1 | –ü–æ—Å–ª–µ–¥–Ω—è—è | –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–µ –∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –¥–ª—è V5R1 |

### –í—ã–±–æ—Ä –≤–µ—Ä—Å–∏–∏ –∫–æ—à–µ–ª—å–∫–∞

–í–µ—Ä—Å–∏—è –∫–æ—à–µ–ª—å–∫–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –∫–∞–∫ –ø–æ–¥–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –∏ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏. –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∫–æ—à–µ–ª—å–∫–æ–≤ TON –∏—Å–ø–æ–ª—å–∑—É—é—Ç **V4R2** –∏–ª–∏ **V5R1**.

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è:**
```python
# –í—Å–µ —ç—Ç–∏ –≤–∞—Ä–∏–∞–Ω—Ç—ã –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∏ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤ V4R2
api = SyncFragmentAPI(..., wallet_version="v4r2")
api = SyncFragmentAPI(..., wallet_version="V4R2")
api = SyncFragmentAPI(..., wallet_version="V4r2")  # –ë–µ–∑ —É—á–µ—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞

# W5 –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞ V5R1
api = SyncFragmentAPI(..., wallet_version="w5")      # ‚Üí V5R1
api = SyncFragmentAPI(..., wallet_version="W5")      # ‚Üí V5R1
api = SyncFragmentAPI(..., wallet_version="v5r1")    # ‚Üí V5R1
```

### –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–∏ –≤–∞—à–µ–≥–æ –∫–æ—à–µ–ª—å–∫–∞

**–í–∞—Ä–∏–∞–Ω—Ç 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∫–æ—à–µ–ª—å–∫–∞**

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ TON –∫–æ—à–µ–ª—å–∫–∞ (Tonkeeper/MyTonWallet –∏ —Ç.–¥.)
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –û –ø—Ä–æ–≥—Ä–∞–º–º–µ/–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ—à–µ–ª—å–∫–µ
3. –ù–∞–π–¥–∏—Ç–µ "–¢–∏–ø –∫–æ—à–µ–ª—å–∫–∞" –∏–ª–∏ "–í–µ—Ä—Å–∏—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞"
4. –¢–∏–ø–∏—á–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è: "Wallet V4R2", "Wallet V5R1", "W5"

**–í–∞—Ä–∏–∞–Ω—Ç 2: –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Ñ–æ—Ä–º–∞—Ç—É –∞–¥—Ä–µ—Å–∞**

- **V4R2 –∞–¥—Ä–µ—Å–∞:** –ù–∞—á–∏–Ω–∞—é—Ç—Å—è —Å `EQA...` –∏–ª–∏ `0QA...`
- **V5R1 –∞–¥—Ä–µ—Å–∞:** –ù–∞—á–∏–Ω–∞—é—Ç—Å—è —Å `EQA...` –∏–ª–∏ `0QA...` (—Ç–æ—Ç –∂–µ —Ñ–æ—Ä–º–∞—Ç)
- **V3R1/V3R2:** –ë–æ–ª–µ–µ —Å—Ç–∞—Ä—ã–π —Ñ–æ—Ä–º–∞—Ç, –º–µ–Ω–µ–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω

**–í–∞—Ä–∏–∞–Ω—Ç 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ –∏—Å—Ç–æ—á–Ω–∏–∫—É –º–Ω–µ–º–æ–Ω–∏—á–µ—Å–∫–æ–π —Ñ—Ä–∞–∑—ã**

- **Tonkeeper:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç V4R2 –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- **MyTonWallet:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç V4R2 –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- **TonHub:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç V5R1
- **TON Wallet:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç V4R2 –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

### –ú–∏–≥—Ä–∞—Ü–∏—è –º–µ–∂–¥—É –≤–µ—Ä—Å–∏—è–º–∏

–ï—Å–ª–∏ –≤—ã –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –Ω–∞ –Ω–æ–≤—ã–π –∫–æ—à–µ–ª—ë–∫ –∏–ª–∏ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –≤–µ—Ä—Å–∏–∏:

```python
# –°—Ç–∞—Ä—ã–π –∫–æ—à–µ–ª—ë–∫ —Å V3R2
api_old = SyncFragmentAPI(
    cookies=cookies,
    hash_value=hash_value,
    wallet_mnemonic=mnemonic_old,
    wallet_api_key=api_key,
    wallet_version="V3R2"  # –£—Å—Ç–∞—Ä–µ–≤—à–∞—è –≤–µ—Ä—Å–∏—è
)

# –ù–æ–≤—ã–π –∫–æ—à–µ–ª—ë–∫ —Å V4R2
api_new = SyncFragmentAPI(
    cookies=cookies,
    hash_value=hash_value,
    wallet_mnemonic=mnemonic_new,
    wallet_api_key=api_key,
    wallet_version="V4R2"  # –°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è
)

# –ü—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –Ω–∞ V5R1
api_latest = SyncFragmentAPI(
    cookies=cookies,
    hash_value=hash_value,
    wallet_mnemonic=mnemonic_new,
    wallet_api_key=api_key,
    wallet_version="V5R1"  # –ü–æ—Å–ª–µ–¥–Ω—è—è –≤–µ—Ä—Å–∏—è
)
```

### –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –≤–µ—Ä—Å–∏–π –∫–æ—à–µ–ª—å–∫–æ–≤

**–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π:**
- –í—Å–µ –≤–µ—Ä—Å–∏–∏ –º–æ–≥—É—Ç –ø–æ–ª—É—á–∞—Ç—å TON –æ—Ç –ª—é–±–æ–π –¥—Ä—É–≥–æ–π –≤–µ—Ä—Å–∏–∏
- –í—Å–µ –≤–µ—Ä—Å–∏–∏ –º–æ–≥—É—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å TON –Ω–∞ –ª—é–±–æ–π –∞–¥—Ä–µ—Å
- –†–∞–∑–ª–∏—á–∏—è –º–µ–∂–¥—É –≤–µ—Ä—Å–∏—è–º–∏ –ø—Ä–æ–∑—Ä–∞—á–Ω—ã –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–æ–¥—Ö–æ–¥:**
1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **V4R2** –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **V5R1** –¥–ª—è –Ω–æ–≤–µ–π—à–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π TON
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **V3R1/V3R2** —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø–æ–¥–¥–µ—Ä–∂–∫–µ —Å—Ç–∞—Ä—ã—Ö —Å–∏—Å—Ç–µ–º

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö –≤–µ—Ä—Å–∏–π:**
```python
from FragmentAPI import WalletManager

manager = WalletManager(mnemonic, api_key, "V4R2")
info = manager.get_wallet_info()

print(f"–¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è: {info['version']}")
print(f"–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –≤–µ—Ä—Å–∏–∏: {info['supported_versions']}")
print(f"–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–π: {info['version_mapping']}")
```

–í—ã–≤–æ–¥:
```
–¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è: V4R2
–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –≤–µ—Ä—Å–∏–∏: ['V4R2', 'V5R1', 'W5', 'V3R2', 'V3R1']
–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–π: {
    'V4R2': 'V4R2',
    'V5R1': 'V5R1',
    'W5': 'V5R1',
    'V3R2': 'V3R2',
    'V3R1': 'V3R1'
}
```

### –û—à–∏–±–∫–∏ –≤–µ—Ä—Å–∏–∏ –∫–æ—à–µ–ª—å–∫–∞

–£–∫–∞–∑–∞–Ω–∏–µ –Ω–µ–≤–µ—Ä–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –∫–æ—à–µ–ª—å–∫–∞ –≤—ã–∑–æ–≤–µ—Ç `InvalidWalletVersionError`:

```python
from FragmentAPI import InvalidWalletVersionError

try:
    api = SyncFragmentAPI(
        cookies=cookies,
        hash_value=hash_value,
        wallet_mnemonic=mnemonic,
        wallet_api_key=api_key,
        wallet_version="V2R1"  # –ù–µ–≤–µ—Ä–Ω–∞—è –≤–µ—Ä—Å–∏—è
    )
except InvalidWalletVersionError as e:
    print(f"–û—à–∏–±–∫–∞: {e}")
    # –í—ã–≤–æ–¥:
    # –ù–µ–≤–µ—Ä–Ω–∞—è –≤–µ—Ä—Å–∏—è –∫–æ—à–µ–ª—å–∫–∞: 'V2R1'
    # –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –≤–µ—Ä—Å–∏–∏ –∫–æ—à–µ–ª—å–∫–æ–≤:
    #   - V4R2: WalletV4R2 - –°–∞–º–∞—è —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è
    #   - V5R1: WalletV5R1 - –ü–æ—Å–ª–µ–¥–Ω—è—è –≤–µ—Ä—Å–∏—è (—Ç–∞–∫–∂–µ –∏–∑–≤–µ—Å—Ç–Ω–∞ –∫–∞–∫ W5)
    #   - W5: WalletV5R1 - –ü—Å–µ–≤–¥–æ–Ω–∏–º –¥–ª—è V5R1
    #   - V3R2: WalletV3R2 - –£—Å—Ç–∞—Ä–µ–≤—à–∞—è –≤–µ—Ä—Å–∏—è
    #   - V3R1: WalletV3R1 - –£—Å—Ç–∞—Ä–µ–≤—à–∞—è –≤–µ—Ä—Å–∏—è
```

---

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –ß–µ—Ä–µ–∑ pip (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
pip install fragment-api-py
```

### –ò–∑ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞ —Å git

```bash
git clone https://github.com/S1qwy/fragment-api-py.git
cd fragment-api-py
pip install -e .
```

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

```bash
git clone https://github.com/S1qwy/fragment-api-py.git
cd fragment-api-py
pip install -e ".[dev]"
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

```python
from FragmentAPI import AsyncFragmentAPI, SyncFragmentAPI, __version__

print(f"–í–µ—Ä—Å–∏—è Fragment API: {__version__}")
print(f"–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–ª–∏–µ–Ω—Ç: {AsyncFragmentAPI}")
print(f"–°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–ª–∏–µ–Ω—Ç: {SyncFragmentAPI}")
```

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

```
requests >= 2.28.0      # HTTP –∑–∞–ø—Ä–æ—Å—ã
aiohttp >= 3.8.0        # –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π HTTP
tonutils >= 0.3.0       # –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –±–ª–æ–∫—á–µ–π–Ω–æ–º TON
pytoniq-core >= 0.1.0   # –ö–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π TON
httpx >= 0.23.0         # –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π HTTP –∫–ª–∏–µ–Ω—Ç
```

---

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –°–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ (–±–ª–æ–∫–∏—Ä—É—é—â–∏–µ –≤—ã–∑–æ–≤—ã)

```python
from FragmentAPI import SyncFragmentAPI

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å –≤–µ—Ä—Å–∏–µ–π –∫–æ—à–µ–ª—å–∫–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (V4R2)
api = SyncFragmentAPI(
    cookies="stel_ssid=–∑–Ω–∞—á–µ–Ω–∏–µ; stel_token=–∑–Ω–∞—á–µ–Ω–∏–µ; stel_dt=–∑–Ω–∞—á–µ–Ω–∏–µ; stel_ton_token=–∑–Ω–∞—á–µ–Ω–∏–µ",
    hash_value="–≤–∞—à_—Ö–µ—à_–∏–∑_network_tab",
    wallet_mnemonic="—Å–ª–æ–≤–æ1 —Å–ª–æ–≤–æ2 ... —Å–ª–æ–≤–æ24",
    wallet_api_key="–≤–∞—à_tonapi_–∫–ª—é—á"
)

# –ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
user = api.get_recipient_stars('jane_doe')
print(f"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: {user.name}")
print(f"–ê–≤–∞—Ç–∞—Ä: {user.avatar}")

# –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–≤—ë–∑–¥—ã Telegram (–∞–Ω–æ–Ω–∏–º–Ω–æ)
result = api.buy_stars('jane_doe', 100)
if result.success:
    print(f"‚úì –ó–≤—ë–∑–¥—ã –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã! TX: {result.transaction_hash}")
else:
    print(f"‚úó –û—à–∏–±–∫–∞: {result.error}")

# –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å –≤–∏–¥–∏–º—ã–º –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª–µ–º
result = api.buy_stars('jane_doe', 100, show_sender=True)

# –ü—Ä—è–º–æ–π –ø–µ—Ä–µ–≤–æ–¥ TON
transfer = api.transfer_ton("recipient.t.me", 0.5, "–û–ø–ª–∞—Ç–∞ –∑–∞ —É—Å–ª—É–≥–∏")
if transfer.success:
    print(f"‚úì –ü–µ—Ä–µ–≤–æ–¥: {transfer.transaction_hash}")

# –ü–æ–ª—É—á–∏—Ç—å –±–∞–ª–∞–Ω—Å –∫–æ—à–µ–ª—å–∫–∞
balance = api.get_wallet_balance()
print(f"–ë–∞–ª–∞–Ω—Å: {balance['balance_ton']} TON")

# –û—á–∏—Å—Ç–∫–∞
api.close()
```

### –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ (async/await)

```python
import asyncio
from FragmentAPI import AsyncFragmentAPI

async def main():
    api = AsyncFragmentAPI(
        cookies="stel_ssid=–∑–Ω–∞—á–µ–Ω–∏–µ; stel_token=–∑–Ω–∞—á–µ–Ω–∏–µ; stel_dt=–∑–Ω–∞—á–µ–Ω–∏–µ; stel_ton_token=–∑–Ω–∞—á–µ–Ω–∏–µ",
        hash_value="–≤–∞—à_—Ö–µ—à_–∏–∑_network_tab",
        wallet_mnemonic="—Å–ª–æ–≤–æ1 —Å–ª–æ–≤–æ2 ... —Å–ª–æ–≤–æ24",
        wallet_api_key="–≤–∞—à_tonapi_–∫–ª—é—á"
    )
    
    # –ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
    user = await api.get_recipient_stars('jane_doe')
    print(f"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: {user.name}")
    
    # –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–≤—ë–∑–¥—ã –∞–Ω–æ–Ω–∏–º–Ω–æ
    result = await api.buy_stars('jane_doe', 100)
    if result.success:
        print(f"‚úì TX: {result.transaction_hash}")
    
    # –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å –≤–∏–¥–∏–º—ã–º –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª–µ–º
    result = await api.buy_stars('jane_doe', 100, show_sender=True)
    
    # –ü—Ä—è–º–æ–π –ø–µ—Ä–µ–≤–æ–¥ TON
    transfer = await api.transfer_ton("recipient.t.me", 0.5, "–û–ø–ª–∞—Ç–∞")
    
    # –ü–æ–ª—É—á–∏—Ç—å –±–∞–ª–∞–Ω—Å
    balance = await api.get_wallet_balance()
    print(f"–ë–∞–ª–∞–Ω—Å: {balance['balance_ton']} TON")
    
    # –û—á–∏—Å—Ç–∫–∞
    await api.close()

asyncio.run(main())
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã—Ö –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤

```python
# –°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä
with SyncFragmentAPI(cookies, hash_value, mnemonic, api_key) as api:
    result = api.buy_stars('username', 100)
    balance = api.get_wallet_balance()
    # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ

# –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä
async with AsyncFragmentAPI(cookies, hash_value, mnemonic, api_key) as api:
    result = await api.buy_stars('username', 100)
    balance = await api.get_wallet_balance()
    # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ
```

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è –≤–µ—Ä—Å–∏—è –∫–æ—à–µ–ª—å–∫–∞

```python
from FragmentAPI import SyncFragmentAPI

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å V5R1 (–ø–æ—Å–ª–µ–¥–Ω—è—è –≤–µ—Ä—Å–∏—è –∫–æ—à–µ–ª—å–∫–∞)
api = SyncFragmentAPI(
    cookies=cookies,
    hash_value=hash_value,
    wallet_mnemonic=mnemonic,
    wallet_api_key=api_key,
    wallet_version="V5R1"  # –Ø–≤–Ω–æ —É–∫–∞–∑–∞—Ç—å –≤–µ—Ä—Å–∏—é
)

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É—Å—Ç–∞—Ä–µ–≤—à—É—é V3R2
api_legacy = SyncFragmentAPI(
    cookies=cookies,
    hash_value=hash_value,
    wallet_mnemonic=mnemonic,
    wallet_api_key=api_key,
    wallet_version="V3R2"  # –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–∞—Ä—É—é –≤–µ—Ä—Å–∏—é
)

# W5 –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞ V5R1
api_w5 = SyncFragmentAPI(
    cookies=cookies,
    hash_value=hash_value,
    wallet_mnemonic=mnemonic,
    wallet_api_key=api_key,
    wallet_version="W5"  # –†–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ V5R1
)
```

---

## –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ

### –®–∞–≥ 1: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ cookies Fragment

1. –ü–æ—Å–µ—Ç–∏—Ç–µ [fragment.com](https://fragment.com) –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –ù–∞–∂–º–∏—Ç–µ `F12` —á—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å Developer Tools
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É `Application` ‚Üí `Cookies` ‚Üí `fragment.com`
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —ç—Ç–∏ cookies:

| –ò–º—è Cookie | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|------------|-----------|
| `stel_ssid` | ID —Å–µ—Å—Å–∏–∏ |
| `stel_token` | –¢–æ–∫–µ–Ω –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ |
| `stel_dt` | –°–º–µ—â–µ–Ω–∏–µ —á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å–∞ |
| `stel_ton_token` | TON-—Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–π —Ç–æ–∫–µ–Ω |

5. –û–±—ä–µ–¥–∏–Ω–∏—Ç–µ –≤ –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É:
```
stel_ssid=abc123def456; stel_token=xyz789uvw012; stel_dt=-180; stel_ton_token=qrs345tuv678
```

### –®–∞–≥ 2: –ü–æ–ª—É—á–µ–Ω–∏–µ —Ö–µ—à–∞

1. –û—Å—Ç–∞–≤—å—Ç–µ DevTools –æ—Ç–∫—Ä—ã—Ç—ã–º, –ø–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É `Network`
2. –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É fragment.com
3. –ù–∞–π–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å—ã –∫ `fragment.com/api`
4. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –ª—é–±–æ–π API –∑–∞–ø—Ä–æ—Å
5. –í —Ä–∞–∑–¥–µ–ª–µ `Query String Parameters` —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ `hash`

### –®–∞–≥ 3: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫–æ—à–µ–ª—å–∫–∞ TON

#### –í–∞—Ä–∏–∞–Ω—Ç A: –≠–∫—Å–ø–æ—Ä—Ç –∏–∑ Tonkeeper

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ Tonkeeper
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ü–∞—Ä–∞–º–µ—Ç—Ä—ã ‚Üí –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ—à–µ–ª—å–∫–∞
3. –ù–∞–∂–º–∏—Ç–µ "–ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ñ—Ä–∞–∑—É –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è"
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ 24-—Å–ª–æ–≤–Ω—É—é –º–Ω–µ–º–æ–Ω–∏—á–µ—Å–∫—É—é —Ñ—Ä–∞–∑—É
5. –í–µ—Ä—Å–∏—è –∫–æ—à–µ–ª—å–∫–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é **V4R2**

#### –í–∞—Ä–∏–∞–Ω—Ç B: –≠–∫—Å–ø–æ—Ä—Ç –∏–∑ MyTonWallet

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [mytonwallet.io](https://www.mytonwallet.io)
2. –û—Ç–∫—Ä–æ–π—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ—à–µ–ª—ë–∫
3. –ü–∞—Ä–∞–º–µ—Ç—Ä—ã ‚Üí –†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è/–ö–æ—à–µ–ª—ë–∫
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ 24 —Å–ª–æ–≤–∞
5. –í–µ—Ä—Å–∏—è –∫–æ—à–µ–ª—å–∫–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é **V4R2**

#### –í–∞—Ä–∏–∞–Ω—Ç C: –≠–∫—Å–ø–æ—Ä—Ç –∏–∑ TonHub

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ TonHub
2. –ü–∞—Ä–∞–º–µ—Ç—Ä—ã ‚Üí –§—Ä–∞–∑–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ 24 —Å–ª–æ–≤–∞
4. **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** TonHub –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤–µ—Ä—Å–∏—é –∫–æ—à–µ–ª—å–∫–∞ **V5R1**

#### –í–∞—Ä–∏–∞–Ω—Ç D: –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏ –≤–∞—à–µ–≥–æ –∫–æ—à–µ–ª—å–∫–∞

–ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –∫–æ—à–µ–ª—å–∫–æ–≤ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤–µ—Ä—Å–∏–∏:

```python
from FragmentAPI import SyncFragmentAPI

api = SyncFragmentAPI(
    cookies=cookies,
    hash_value=hash_value,
    wallet_mnemonic=mnemonic,
    wallet_api_key=api_key,
    wallet_version="V4R2"  # –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —ç—Ç–æ —Å–Ω–∞—á–∞–ª–∞
)

balance_info = api.get_wallet_balance()
print(f"–í–µ—Ä—Å–∏—è –∫–æ—à–µ–ª—å–∫–∞: {balance_info['wallet_version']}")
# –í—ã–≤–æ–¥: V4R2
```

**–ï—Å–ª–∏ –≤–∞—à –∫–æ—à–µ–ª—ë–∫ –Ω–æ–≤—ã–π, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ V5R1:**
```python
api = SyncFragmentAPI(
    ...
    wallet_version="V5R1"  # –î–ª—è –Ω–æ–≤—ã—Ö –∫–æ—à–µ–ª—å–∫–æ–≤
)
```

### –®–∞–≥ 4: –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–ª—é—á–∞ TonAPI

1. –ü–æ—Å–µ—Ç–∏—Ç–µ [tonconsole.com](https://tonconsole.com)
2. –í–æ–π–¥–∏—Ç–µ –≤ —Å–≤–æ–π –∞–∫–∫–∞—É–Ω—Ç (–∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π)
3. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç
4. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞
5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ **API Key**
6. –•—Ä–∞–Ω–∏—Ç–µ —ç—Ç–æ—Ç –∫–ª—é—á –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### –®–∞–≥ 5: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞:

```bash
# .env
FRAGMENT_COOKIES="stel_ssid=abc123; stel_token=xyz789; stel_dt=-180; stel_ton_token=uvw012"
FRAGMENT_HASH="abc123def456ghi789jkl012mno345"
WALLET_MNEMONIC="abandon ability able abandon abandon abandon abandon abandon abandon abandon abandon about"
WALLET_API_KEY="AHQSQGXHKZZSJQWPYXYZABCDEFGHIJK"
WALLET_VERSION="V4R2"
FRAGMENT_TIMEOUT="15"
```

–î–æ–±–∞–≤—å—Ç–µ –≤ `.gitignore`:
```
.env
.env.local
*.pem
private_key*
wallet_seed*
```

### –®–∞–≥ 6: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –≤–∞—à–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏

```python
import os
from dotenv import load_dotenv
from FragmentAPI import SyncFragmentAPI

# –ó–∞–≥—Ä—É–∑–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
load_dotenv()

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–ª–∏–µ–Ω—Ç
api = SyncFragmentAPI(
    cookies=os.getenv('FRAGMENT_COOKIES'),
    hash_value=os.getenv('FRAGMENT_HASH'),
    wallet_mnemonic=os.getenv('WALLET_MNEMONIC'),
    wallet_api_key=os.getenv('WALLET_API_KEY'),
    wallet_version=os.getenv('WALLET_VERSION', 'V4R2'),  # –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é V4R2
    timeout=int(os.getenv('FRAGMENT_TIMEOUT', 15))
)

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–ª–∏–µ–Ω—Ç
result = api.buy_stars('username', 100)
print(result)

api.close()
```

---

## –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ API

### –ú–µ—Ç–æ–¥—ã –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—É—á–∞—Ç–µ–ª–µ

#### `get_recipient_stars(username: str) ‚Üí UserInfo`

–ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—É—á–∞—Ç–µ–ª–µ –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –∑–≤—ë–∑–¥ Telegram.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `username` (str): –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `@` –∏–ª–∏ –±–µ–∑ (5-32 —Å–∏–º–≤–æ–ª–∞)

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –û–±—ä–µ–∫—Ç `UserInfo` —Å–æ–¥–µ—Ä–∂–∞—â–∏–π:
- `name` (str): –û—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `recipient` (str): –ê–¥—Ä–µ—Å –ø–æ–ª—É—á–∞—Ç–µ–ª—è –≤ –±–ª–æ–∫—á–µ–π–Ω–µ
- `avatar` (str): URL –∞–≤–∞—Ç–∞—Ä–∞ –∏–ª–∏ –¥–∞–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ base64
- `found` (bool): –ë—ã–ª –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É—Å–ø–µ—à–Ω–æ –Ω–∞–π–¥–µ–Ω

**–í—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç:**
- `UserNotFoundError`: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ Telegram
- `NetworkError`: –û—à–∏–±–∫–∞ API –∑–∞–ø—Ä–æ—Å–∞
- `AuthenticationError`: –°–µ—Å—Å–∏—è –∏—Å—Ç–µ–∫–ª–∞ –∏–ª–∏ –Ω–µ–≤–µ—Ä–Ω—ã–µ —É—á—ë—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

**–ü—Ä–∏–º–µ—Ä:**
```python
# –°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π
user = api.get_recipient_stars('jane_doe')
print(f"–ò–º—è: {user.name}")
print(f"–ü–æ–ª—É—á–∞—Ç–µ–ª—å: {user.recipient}")
print(f"–ê–≤–∞—Ç–∞—Ä: {user.avatar[:50]}...")  # –ü–µ—Ä–≤—ã–µ 50 —Å–∏–º–≤–æ–ª–æ–≤

# –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π
user = await api.get_recipient_stars('jane_doe')
```

#### `get_recipient_premium(username: str) ‚Üí UserInfo`

–ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—É—á–∞—Ç–µ–ª–µ –¥–ª—è –ø–æ–¥–∞—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∫–∏ Premium.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `username` (str): –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –û–±—ä–µ–∫—Ç `UserInfo`

**–í—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç:**
- `UserNotFoundError`: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, —É–∂–µ –∏–º–µ–µ—Ç Premium, –∏–ª–∏ –Ω–µ –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –ø–æ–¥–∞—Ä–æ–∫
- `NetworkError`: –û—à–∏–±–∫–∞ API –∑–∞–ø—Ä–æ—Å–∞
- `AuthenticationError`: –°–µ—Å—Å–∏—è –∏—Å—Ç–µ–∫–ª–∞

**–ü—Ä–∏–º–µ—Ä:**
```python
user = api.get_recipient_premium('jane_doe')
if user.found:
    print(f"–ú–æ–∂–Ω–æ –ø–æ–¥–∞—Ä–∏—Ç—å Premium: {user.name}")
else:
    print("–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –ø–æ–¥–∞—Ä–∫–∞ Premium")
```

#### `get_recipient_ton(username: str) ‚Üí UserInfo`

–ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—É—á–∞—Ç–µ–ª–µ –¥–ª—è –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è TON –¥–ª—è –æ–±—ä—è–≤–ª–µ–Ω–∏–π.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `username` (str): –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–ª–∏ –∫–∞–Ω–∞–ª–∞

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –û–±—ä–µ–∫—Ç `UserInfo`

**–í—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç:**
- `UserNotFoundError`: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å/–∫–∞–Ω–∞–ª –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- `NetworkError`: –û—à–∏–±–∫–∞ API –∑–∞–ø—Ä–æ—Å–∞
- `AuthenticationError`: –°–µ—Å—Å–∏—è –∏—Å—Ç–µ–∫–ª–∞

**–ü—Ä–∏–º–µ—Ä:**
```python
user = api.get_recipient_ton('ad_manager_bot')
print(f"–ê–¥—Ä–µ—Å: {user.recipient}")
```

---

### –ú–µ—Ç–æ–¥—ã –ø–ª–∞—Ç–µ–∂–µ–π

#### `buy_stars(username: str, quantity: int, show_sender: bool = False) ‚Üí PurchaseResult`

–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–≤—ë–∑–¥—ã Telegram –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `username` (str): –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ–ª—É—á–∞—Ç–µ–ª—è (5-32 —Å–∏–º–≤–æ–ª–∞)
- `quantity` (int): –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–≤—ë–∑–¥ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ (1-999999)
- `show_sender` (bool, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ): –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ª–∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: `False` (–∞–Ω–æ–Ω–∏–º–Ω–æ)

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `PurchaseResult` —Å–æ–¥–µ—Ä–∂–∞—â–∏–π:
- `success` (bool): –°—Ç–∞—Ç—É—Å —É—Å–ø–µ—Ö–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- `transaction_hash` (str|None): –•–µ—à –±–ª–æ–∫—á–µ–π–Ω–∞ –µ—Å–ª–∏ —É—Å–ø–µ—à–Ω–æ
- `error` (str|None): –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ –µ—Å–ª–∏ –Ω–µ—É–¥–∞—á–Ω–æ
- `user` (UserInfo|None): –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—É—á–∞—Ç–µ–ª–µ
- `balance_checked` (bool): –ë—ã–ª –ª–∏ –ø—Ä–æ–≤–µ—Ä–µ–Ω –±–∞–ª–∞–Ω—Å
- `required_amount` (float|None): –í—Å–µ–≥–æ —Ç—Ä–µ–±—É–µ—Ç—Å—è TON (–≤–∫–ª—é—á–∞—è –∫–æ–º–∏—Å—Å–∏–∏)

**–í—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç:**
- `UserNotFoundError`: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- `InvalidAmountError`: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–Ω–µ –¥–æ–ø—É—Å—Ç–∏–º–æ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ (1-999999)
- `InsufficientBalanceError`: –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤ –≤ –∫–æ—à–µ–ª—å–∫–µ
- `AuthenticationError`: –°–µ—Å—Å–∏—è –∏—Å—Ç–µ–∫–ª–∞
- `PaymentInitiationError`: –ù–µ —É–¥–∞—ë—Ç—Å—è –∏–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞—Ç—å –ø–ª–∞—Ç—ë–∂
- `TransactionError`: –û—à–∏–±–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

**–ü—Ä–∏–º–µ—Ä - –°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π:**
```python
# –ê–Ω–æ–Ω–∏–º–Ω—ã–µ –∑–≤—ë–∑–¥—ã (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
result = api.buy_stars('jane_doe', 100)

if result.success:
    print(f"‚úì –ó–≤—ë–∑–¥—ã –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ!")
    print(f"–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è: {result.transaction_hash}")
    print(f"–ü–æ–ª—É—á–∞—Ç–µ–ª—å: {result.user.name}")
    print(f"–û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å: {result.required_amount} TON")
    print(f"–ë–∞–ª–∞–Ω—Å –ø—Ä–æ–≤–µ—Ä–µ–Ω: {result.balance_checked}")
else:
    print(f"‚úó –û—à–∏–±–∫–∞: {result.error}")

# –ó–≤—ë–∑–¥—ã —Å –≤–∏–¥–∏–º—ã–º –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª–µ–º
result = api.buy_stars('jane_doe', 100, show_sender=True)
if result.success:
    print(f"‚úì –ó–≤—ë–∑–¥—ã –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã (–æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å –≤–∏–¥–∏–º—ã–π)")
```

**–ü—Ä–∏–º–µ—Ä - –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π:**
```python
result = await api.buy_stars('jane_doe', 100)

if result.success:
    print(f"‚úì TX: {result.transaction_hash}")
else:
    print(f"‚úó –û—à–∏–±–∫–∞: {result.error}")

# –° –≤–∏–¥–∏–º—ã–º –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª–µ–º
result = await api.buy_stars('jane_doe', 100, show_sender=True)
```

**–ü—Ä–∏–º–µ—Ä - –ü–∞–∫–µ—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞:**
```python
users = [
    ('user1', 10, False),   # (username, quantity, show_sender)
    ('user2', 20, True),
    ('user3', 15, False)
]

for username, quantity, show_sender in users:
    result = api.buy_stars(username, quantity, show_sender=show_sender)
    
    if result.success:
        visibility = "–≤–∏–¥–∏–º—ã–π" if show_sender else "–∞–Ω–æ–Ω–∏–º–Ω—ã–π"
        print(f"‚úì {username} ({visibility}): {result.transaction_hash}")
    else:
        print(f"‚úó {username}: {result.error}")
```

#### `gift_premium(username: str, months: int = 3, show_sender: bool = False) ‚Üí PurchaseResult`

–ü–æ–¥–∞—Ä–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É Premium –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `username` (str): –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ–ª—É—á–∞—Ç–µ–ª—è
- `months` (int): –ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–æ–¥–ø–∏—Å–∫–∏. –î–æ–ø—É—Å—Ç–∏–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è: 3, 6, 12. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: `3`
- `show_sender` (bool, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ): –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ª–∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: `False` (–∞–Ω–æ–Ω–∏–º–Ω–æ)

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –û–±—ä–µ–∫—Ç `PurchaseResult`

**–í—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç:**
- `UserNotFoundError`: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, —É–∂–µ –∏–º–µ–µ—Ç Premium, –∏–ª–∏ –Ω–µ –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –ø–æ–¥–∞—Ä–æ–∫
- `InvalidAmountError`: –ú–µ—Å—è—Ü—ã –Ω–µ –≤ [3, 6, 12]
- `InsufficientBalanceError`: –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤ –≤ –∫–æ—à–µ–ª—å–∫–µ
- `AuthenticationError`: –°–µ—Å—Å–∏—è –∏—Å—Ç–µ–∫–ª–∞
- `PaymentInitiationError`: –ù–µ —É–¥–∞—ë—Ç—Å—è –∏–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞—Ç—å –ø–ª–∞—Ç—ë–∂
- `TransactionError`: –û—à–∏–±–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

**–ü—Ä–∏–º–µ—Ä - –°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π:**
```python
# –ü–æ–¥–∞—Ä–æ–∫ –Ω–∞ 3 –º–µ—Å—è—Ü–∞ –∞–Ω–æ–Ω–∏–º–Ω–æ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
result = api.gift_premium('jane_doe')

if result.success:
    print(f"‚úì Premium –ø–æ–¥–∞—Ä–µ–Ω –Ω–∞ 3 –º–µ—Å—è—Ü–∞!")
    print(f"–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è: {result.transaction_hash}")
else:
    print(f"‚úó –û—à–∏–±–∫–∞: {result.error}")

# –ü–æ–¥–∞—Ä–æ–∫ –Ω–∞ 6 –º–µ—Å—è—Ü–µ–≤ —Å –≤–∏–¥–∏–º—ã–º –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª–µ–º
result = api.gift_premium('jane_doe', months=6, show_sender=True)

if result.success:
    print(f"‚úì Premium –ø–æ–¥–∞—Ä–µ–Ω (6 –º–µ—Å—è—Ü–µ–≤, –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å –≤–∏–¥–∏–º—ã–π)")
    print(f"–°—Ç–æ–∏–º–æ—Å—Ç—å: {result.required_amount} TON")
else:
    print(f"‚úó –û—à–∏–±–∫–∞: {result.error}")

# –ü–æ–¥–∞—Ä–æ–∫ –Ω–∞ 12 –º–µ—Å—è—Ü–µ–≤ –∞–Ω–æ–Ω–∏–º–Ω–æ
result = api.gift_premium('jane_doe', months=12)
```

**–ü—Ä–∏–º–µ—Ä - –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π:**
```python
# 3 –º–µ—Å—è—Ü–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
result = await api.gift_premium('jane_doe')

# 6 –º–µ—Å—è—Ü–µ–≤ —Å –≤–∏–¥–∏–º—ã–º –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª–µ–º
result = await api.gift_premium('jane_doe', months=6, show_sender=True)

# 12 –º–µ—Å—è—Ü–µ–≤ –∞–Ω–æ–Ω–∏–º–Ω–æ
result = await api.gift_premium('jane_doe', months=12)
```

**–ü—Ä–∏–º–µ—Ä - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:**
```python
try:
    result = api.gift_premium('jane_doe', months=6, show_sender=True)
    
    if result.success:
        print(f"‚úì –£—Å–ø–µ—à–Ω–æ: {result.transaction_hash}")
    else:
        print(f"‚úó –û—à–∏–±–∫–∞: {result.error}")
        
except UserNotFoundError as e:
    print(f"–ü—Ä–æ–±–ª–µ–º–∞ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º: {e}")
    # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, —É–∂–µ –∏–º–µ–µ—Ç Premium, –∏–ª–∏ –Ω–µ –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –ø–æ–¥–∞—Ä–æ–∫
    
except InvalidAmountError as e:
    print(f"–ü—Ä–æ–±–ª–µ–º–∞ —Å –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é: {e}")
    # –ü–∞—Ä–∞–º–µ—Ç—Ä months –Ω–µ —Ä–∞–≤–µ–Ω 3, 6 –∏–ª–∏ 12
    
except InsufficientBalanceError as e:
    print(f"–ü—Ä–æ–±–ª–µ–º–∞ —Å –±–∞–ª–∞–Ω—Å–æ–º: {e}")
    # –í –∫–æ—à–µ–ª—å–∫–µ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ TON
```

#### `topup_ton(username: str, amount: int, show_sender: bool = False) ‚Üí PurchaseResult`

–ü–æ–ø–æ–ª–Ω–∏—Ç—å –±–∞–ª–∞–Ω—Å TON –¥–ª—è –∞–∫–∫–∞—É–Ω—Ç–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏–π Telegram.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `username` (str): –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–ª–∏ –∞–∫–∫–∞—É–Ω—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏–π
- `amount` (int): –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ TON –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ (1-999999)
- `show_sender` (bool, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ): –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ª–∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: `False` (–∞–Ω–æ–Ω–∏–º–Ω–æ)

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –û–±—ä–µ–∫—Ç `PurchaseResult`

**–í—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç:**
- `UserNotFoundError`: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å/–∞–∫–∫–∞—É–Ω—Ç –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- `InvalidAmountError`: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–Ω–µ –¥–æ–ø—É—Å—Ç–∏–º–æ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ (1-999999)
- `InsufficientBalanceError`: –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤ –≤ –∫–æ—à–µ–ª—å–∫–µ
- `AuthenticationError`: –°–µ—Å—Å–∏—è –∏—Å—Ç–µ–∫–ª–∞
- `PaymentInitiationError`: –ù–µ —É–¥–∞—ë—Ç—Å—è –∏–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞—Ç—å –ø–ª–∞—Ç—ë–∂
- `TransactionError`: –û—à–∏–±–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

**–ü—Ä–∏–º–µ—Ä - –°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π:**
```python
# –ü–æ–ø–æ–ª–Ω–∏—Ç—å –Ω–∞ 10 TON –∞–Ω–æ–Ω–∏–º–Ω–æ
result = api.topup_ton('ad_account', 10)

if result.success:
    print(f"‚úì –ü–æ–ø–æ–ª–Ω–µ–Ω–æ –Ω–∞ 10 TON")
    print(f"–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è: {result.transaction_hash}")
else:
    print(f"‚úó –û—à–∏–±–∫–∞: {result.error}")

# –ü–æ–ø–æ–ª–Ω–∏—Ç—å –Ω–∞ 50 TON —Å –≤–∏–¥–∏–º—ã–º –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª–µ–º
result = api.topup_ton('ad_account', 50, show_sender=True)

if result.success:
    print(f"‚úì –ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ (–æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å –≤–∏–¥–∏–º—ã–π)")
    print(f"–°—Ç–æ–∏–º–æ—Å—Ç—å: {result.required_amount} TON")
```

**–ü—Ä–∏–º–µ—Ä - –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π:**
```python
result = await api.topup_ton('ad_account', 10)

if result.success:
    print(f"‚úì TX: {result.transaction_hash}")
    print(f"–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ: {result.required_amount} TON")
else:
    print(f"‚úó –û—à–∏–±–∫–∞: {result.error}")
```

#### `transfer_ton(to_address: str, amount_ton: float, memo: str = None) ‚Üí TransferResult`

–û—Ç–ø—Ä–∞–≤–∏—Ç—å TON –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –Ω–∞ –ª—é–±–æ–π –∞–¥—Ä–µ—Å –∫–æ—à–µ–ª—å–∫–∞ –∏–ª–∏ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è Telegram.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `to_address` (str): –ê–¥—Ä–µ—Å –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è (–∞–¥—Ä–µ—Å TON –∏–ª–∏ —Ñ–æ—Ä–º–∞—Ç `username.t.me`)
- `amount_ton` (float): –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –≤ TON
- `memo` (str, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ): –¢–µ–∫—Å—Ç–æ–≤—ã–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π/–º–µ–º–æ—Ä–∞–Ω–¥—É–º –¥–ª—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `TransferResult` —Å–æ–¥–µ—Ä–∂–∞—â–∏–π:
- `success` (bool): –°—Ç–∞—Ç—É—Å —É—Å–ø–µ—Ö–∞ –ø–µ—Ä–µ–¥–∞—á–∏
- `transaction_hash` (str|None): –•–µ—à –±–ª–æ–∫—á–µ–π–Ω–∞
- `from_address` (str|None): –ê–¥—Ä–µ—Å –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è
- `to_address` (str|None): –ê–¥—Ä–µ—Å –ø–æ–ª—É—á–∞—Ç–µ–ª—è
- `amount_ton` (float|None): –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤ TON
- `balance_before` (float|None): –ë–∞–ª–∞–Ω—Å –∫–æ—à–µ–ª—å–∫–∞ –¥–æ –ø–µ—Ä–µ–¥–∞—á–∏
- `memo` (str|None): –ú–µ–º–æ—Ä–∞–Ω–¥—É–º –≤–∫–ª—é—á—ë–Ω–Ω—ã–π –≤ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é
- `error` (str|None): –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ –µ—Å–ª–∏ –Ω–µ—É–¥–∞—á–Ω–æ

**–í—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç:**
- `WalletError`: –ù–µ–≤–µ—Ä–Ω—ã–π –∞–¥—Ä–µ—Å –∏–ª–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
- `InsufficientBalanceError`: –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤ –≤ –∫–æ—à–µ–ª—å–∫–µ
- `TransactionError`: –û—à–∏–±–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- `NetworkError`: –û—à–∏–±–∫–∞ —Å–µ—Ç–µ–≤–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞

**–ü—Ä–∏–º–µ—Ä - –ù–∞ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:**
```python
# –ü–µ—Ä–µ–¥–∞—Ç—å –Ω–∞ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è Telegram —Å –º–µ–º–æ—Ä–∞–Ω–¥—É–º–æ–º
result = api.transfer_ton('jane_doe.t.me', 0.5, '–û–ø–ª–∞—Ç–∞ –∑–∞ —É—Å–ª—É–≥–∏')

if result.success:
    print(f"‚úì –ü–µ—Ä–µ–¥–∞—á–∞ —É—Å–ø–µ—à–Ω–∞!")
    print(f"–û—Ç: {result.from_address}")
    print(f"–ö–æ–º—É: {result.to_address}")
    print(f"–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ: {result.amount_ton} TON")
    print(f"–ú–µ–º–æ—Ä–∞–Ω–¥—É–º: {result.memo}")
    print(f"–•–µ—à: {result.transaction_hash}")
else:
    print(f"‚úó –û—à–∏–±–∫–∞: {result.error}")
```

**–ü—Ä–∏–º–µ—Ä - –ù–∞ –∞–¥—Ä–µ—Å –±–ª–æ–∫—á–µ–π–Ω–∞:**
```python
# –ü–µ—Ä–µ–¥–∞—Ç—å –Ω–∞ –∞–¥—Ä–µ—Å –±–ª–æ–∫—á–µ–π–Ω–∞
address = "EQDrjaLahLkMB-hMCmkzOyBuHJ139ZUYmPHu6RRBKnbRELWt"

result = api.transfer_ton(address, 1.0, "–ø–ª–∞—Ç—ë–∂ –±–ª–æ–∫—á–µ–π–Ω–∞")

if result.success:
    print(f"‚úì –•–µ—à: {result.transaction_hash}")
else:
    print(f"‚úó –û—à–∏–±–∫–∞: {result.error}")
```

**–ü—Ä–∏–º–µ—Ä - –ë–µ–∑ –º–µ–º–æ—Ä–∞–Ω–¥—É–º–∞:**
```python
result = api.transfer_ton('recipient.t.me', 0.01)

if result.success:
    print(f"‚úì –ü–µ—Ä–µ–¥–∞–Ω–æ {result.amount_ton} TON")
```

**–ü—Ä–∏–º–µ—Ä - –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π:**
```python
result = await api.transfer_ton('jane_doe.t.me', 0.5, '–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –ø–ª–∞—Ç—ë–∂')

if result.success:
    print(f"‚úì TX: {result.transaction_hash}")
    print(f"–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ: {result.amount_ton} TON")
    print(f"–ú–µ–º–æ—Ä–∞–Ω–¥—É–º: {result.memo}")
else:
    print(f"‚úó –û—à–∏–±–∫–∞: {result.error}")
```

---

### –ú–µ—Ç–æ–¥—ã –∫–æ—à–µ–ª—å–∫–∞

#### `get_wallet_balance() ‚Üí Dict[str, Any]` (–°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π)

–ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å –∫–æ—à–µ–ª—å–∫–∞ –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é.

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –°–ª–æ–≤–∞—Ä—å —Å:
- `balance_ton` (float): –ë–∞–ª–∞–Ω—Å –≤ TON
- `balance_nano` (str): –ë–∞–ª–∞–Ω—Å –≤ –Ω–∞–Ω–æ—Ç–æ–Ω–∞—Ö (1 TON = 1e9 –Ω–∞–Ω–æ—Ç–æ–Ω–æ–≤)
- `address` (str): –ê–¥—Ä–µ—Å –∫–æ—à–µ–ª—å–∫–∞ –≤ –±–ª–æ–∫—á–µ–π–Ω–µ
- `is_ready` (bool): –°—Ç–∞—Ç—É—Å –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫–æ—à–µ–ª—å–∫–∞
- `wallet_version` (str): –¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è –∫–æ—à–µ–ª—å–∫–∞ (V3R1, V3R2, V4R2, V5R1)

**–í—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç:**
- `WalletError`: –û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –±–∞–ª–∞–Ω—Å–∞

**–ü—Ä–∏–º–µ—Ä:**
```python
balance_info = api.get_wallet_balance()

print(f"–ë–∞–ª–∞–Ω—Å: {balance_info['balance_ton']} TON")
print(f"–ë–∞–ª–∞–Ω—Å (–Ω–∞–Ω–æ): {balance_info['balance_nano']} –Ω–∞–Ω–æ—Ç–æ–Ω–æ–≤")
print(f"–ê–¥—Ä–µ—Å: {balance_info['address']}")
print(f"–ì–æ—Ç–æ–≤–æ: {balance_info['is_ready']}")
print(f"–í–µ—Ä—Å–∏—è –∫–æ—à–µ–ª—å–∫–∞: {balance_info['wallet_version']}")

# –í—ã–≤–æ–¥:
# –ë–∞–ª–∞–Ω—Å: 5.123456 TON
# –ë–∞–ª–∞–Ω—Å (–Ω–∞–Ω–æ): 5123456000 –Ω–∞–Ω–æ—Ç–æ–Ω–æ–≤
# –ê–¥—Ä–µ—Å: EQDrjaLahLkMB-hMCmkzOyBuHJ139ZUYmPHu6RRBKnbRELWt
# –ì–æ—Ç–æ–≤–æ: True
# –í–µ—Ä—Å–∏—è –∫–æ—à–µ–ª—å–∫–∞: V4R2
```

#### `async get_wallet_balance() ‚Üí Dict[str, Any]` (–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π)

–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è –ø–æ–ª—É—á–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞ –∫–æ—à–µ–ª—å–∫–∞.

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –¢–æ—Ç –∂–µ —Å–ª–æ–≤–∞—Ä—å —á—Ç–æ –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è

**–ü—Ä–∏–º–µ—Ä:**
```python
balance_info = await api.get_wallet_balance()

print(f"–ë–∞–ª–∞–Ω—Å: {balance_info['balance_ton']} TON")
print(f"–ê–¥—Ä–µ—Å: {balance_info['address']}")
print(f"–í–µ—Ä—Å–∏—è: {balance_info['wallet_version']}")
```

---

## –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π

### –ò–µ—Ä–∞—Ä—Ö–∏—è –∏—Å–∫–ª—é—á–µ–Ω–∏–π

```
FragmentAPIException (–±–∞–∑–æ–≤–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ)
‚îú‚îÄ‚îÄ AuthenticationError
‚îÇ   ‚îî‚îÄ‚îÄ –í—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –∫–æ–≥–¥–∞ —Å–µ—Å—Å–∏—è –∏—Å—Ç–µ–∫–∞–µ—Ç –∏–ª–∏ —É—á—ë—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –Ω–µ–≤–µ—Ä–Ω—ã
‚îú‚îÄ‚îÄ UserNotFoundError
‚îÇ   ‚îî‚îÄ‚îÄ –í—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –∫–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å/–ø–æ–ª—É—á–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω
‚îú‚îÄ‚îÄ InvalidAmountError
‚îÇ   ‚îî‚îÄ‚îÄ –í—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –∫–æ–≥–¥–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ/—Å—É–º–º–∞ –Ω–µ–≤–µ—Ä–Ω—ã
‚îú‚îÄ‚îÄ InsufficientBalanceError
‚îÇ   ‚îî‚îÄ‚îÄ –í—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –∫–æ–≥–¥–∞ –±–∞–ª–∞–Ω—Å –∫–æ—à–µ–ª—å–∫–∞ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–µ–Ω
‚îú‚îÄ‚îÄ PaymentInitiationError
‚îÇ   ‚îî‚îÄ‚îÄ –í—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –∫–æ–≥–¥–∞ –ø–ª–∞—Ç—ë–∂ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞–Ω
‚îú‚îÄ‚îÄ TransactionError
‚îÇ   ‚îî‚îÄ‚îÄ –í—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –∫–æ–≥–¥–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –Ω–µ —É–¥–∞—ë—Ç—Å—è –≤—ã–ø–æ–ª–Ω–∏—Ç—å
‚îú‚îÄ‚îÄ NetworkError
‚îÇ   ‚îî‚îÄ‚îÄ –í—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –∫–æ–≥–¥–∞ –∑–∞–ø—Ä–æ—Å —Å–µ—Ç–∏ –Ω–µ —É–¥–∞—ë—Ç—Å—è
‚îú‚îÄ‚îÄ RateLimitError
‚îÇ   ‚îî‚îÄ‚îÄ –í—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –∫–æ–≥–¥–∞ –ø—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç —á–∞—Å—Ç–æ—Ç—ã
‚îî‚îÄ‚îÄ WalletError
    ‚îî‚îÄ‚îÄ –í—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –∫–æ–≥–¥–∞ –æ–ø–µ—Ä–∞—Ü–∏—è –∫–æ—à–µ–ª—å–∫–∞ –Ω–µ —É–¥–∞—ë—Ç—Å—è
        ‚îî‚îÄ‚îÄ InvalidWalletVersionError
            ‚îî‚îÄ‚îÄ –í—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –∫–æ–≥–¥–∞ –≤–µ—Ä—Å–∏—è –∫–æ—à–µ–ª—å–∫–∞ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è
```

### –ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π

```python
from FragmentAPI import (
    FragmentAPIException,
    AuthenticationError,
    UserNotFoundError,
    InvalidAmountError,
    InsufficientBalanceError,
    PaymentInitiationError,
    TransactionError,
    NetworkError,
    RateLimitError,
    WalletError,
    InvalidWalletVersionError
)

try:
    result = api.buy_stars('username', 100, show_sender=True)
    
    if not result.success:
        print(f"–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –Ω–µ —É–¥–∞–ª–∞—Å—å: {result.error}")
        
except AuthenticationError as e:
    print(f"‚ùå –û—à–∏–±–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏")
    print(f"   –û—à–∏–±–∫–∞: {e}")
    print(f"   –î–µ–π—Å—Ç–≤–∏–µ: –û–±–Ω–æ–≤–∏—Ç–µ –≤–∞—à–∏ cookies —Å fragment.com")
    print(f"   –®–∞–≥–∏: DevTools ‚Üí Application ‚Üí Cookies")
    
except UserNotFoundError as e:
    print(f"‚ùå –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω")
    print(f"   –û—à–∏–±–∫–∞: {e}")
    print(f"   –î–µ–π—Å—Ç–≤–∏–µ: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è")
    print(f"   –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ: 5-32 —Å–∏–º–≤–æ–ª–∞, —Ç–æ–ª—å–∫–æ –±—É–∫–≤—ã/—Ü–∏—Ñ—Ä—ã/_")
    
except InvalidAmountError as e:
    print(f"‚ùå –ù–µ–≤–µ—Ä–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ")
    print(f"   –û—à–∏–±–∫–∞: {e}")
    print(f"   –î–ª—è –∑–≤—ë–∑–¥: 1-999999")
    print(f"   –î–ª—è Premium: 3, 6 –∏–ª–∏ 12 –º–µ—Å—è—Ü–µ–≤")
    print(f"   –î–ª—è –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è TON: 1-999999")
    
except InsufficientBalanceError as e:
    print(f"‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤")
    print(f"   –û—à–∏–±–∫–∞: {e}")
    print(f"   –î–µ–π—Å—Ç–≤–∏–µ: –ü–æ–ø–æ–ª–Ω–∏—Ç–µ TON –≤ –∫–æ—à–µ–ª—å–∫–µ")
    balance = api.get_wallet_balance()
    print(f"   –¢–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å: {balance['balance_ton']} TON")
    print(f"   –ê–¥—Ä–µ—Å: {balance['address']}")
    
except PaymentInitiationError as e:
    print(f"‚ùå –û—à–∏–±–∫–∞ –∏–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞–Ω–∏—è –ø–ª–∞—Ç–µ–∂–∞")
    print(f"   –û—à–∏–±–∫–∞: {e}")
    print(f"   –î–µ–π—Å—Ç–≤–∏–µ: –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞, –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—Ä–µ–º–µ–Ω–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞")
    
except TransactionError as e:
    print(f"‚ùå –û—à–∏–±–∫–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏")
    print(f"   –û—à–∏–±–∫–∞: {e}")
    print(f"   –î–µ–π—Å—Ç–≤–∏–µ: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∞–ª–∞–Ω—Å –∏ —Å—Ç–∞—Ç—É—Å –∫–æ—à–µ–ª—å–∫–∞")
    
except NetworkError as e:
    print(f"‚ùå –û—à–∏–±–∫–∞ —Å–µ—Ç–∏")
    print(f"   –û—à–∏–±–∫–∞: {e}")
    print(f"   –î–µ–π—Å—Ç–≤–∏–µ: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞, –ø–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–æ–ø—ã—Ç–∫—É")
    
except RateLimitError as e:
    print(f"‚ùå –õ–∏–º–∏—Ç —á–∞—Å—Ç–æ—Ç—ã –ø—Ä–µ–≤—ã—à–µ–Ω")
    print(f"   –û—à–∏–±–∫–∞: {e}")
    print(f"   –î–µ–π—Å—Ç–≤–∏–µ: –ü–æ–¥–æ–∂–¥–∏—Ç–µ 60 —Å–µ–∫—É–Ω–¥ –ø–µ—Ä–µ–¥ –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –ø–æ–ø—ã—Ç–∫–æ–π")
    import time
    time.sleep(60)
    # –ü–æ–≤—Ç–æ—Ä–∏—Ç—å –æ–ø–µ—Ä–∞—Ü–∏—é
    
except InvalidWalletVersionError as e:
    print(f"‚ùå –ù–µ–≤–µ—Ä–Ω–∞—è –≤–µ—Ä—Å–∏—è –∫–æ—à–µ–ª—å–∫–∞")
    print(f"   –û—à–∏–±–∫–∞: {e}")
    print(f"   –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ: V3R1, V3R2, V4R2, V5R1, W5")
    print(f"   –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è: V4R2 (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)")
    
except WalletError as e:
    print(f"‚ùå –û—à–∏–±–∫–∞ –∫–æ—à–µ–ª—å–∫–∞")
    print(f"   –û—à–∏–±–∫–∞: {e}")
    print(f"   –î–µ–π—Å—Ç–≤–∏–µ: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫—É –∫–æ—à–µ–ª—å–∫–∞, –∫–ª—é—á API, –º–Ω–µ–º–æ–Ω–∏—á–µ—Å–∫—É—é —Ñ—Ä–∞–∑—É")
    
except FragmentAPIException as e:
    print(f"‚ùå –û–±—â–∞—è –æ—à–∏–±–∫–∞ API")
    print(f"   –û—à–∏–±–∫–∞: {e}")
    print(f"   –î–µ–π—Å—Ç–≤–∏–µ: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—á—ë—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ")
```

### –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫

```python
def safe_buy_stars(api, username, quantity):
    """–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–≤—ë–∑–¥—ã —Å–æ —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–º –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ–º –ø–æ—Å–ª–µ –æ—à–∏–±–æ–∫"""
    
    try:
        result = api.buy_stars(username, quantity)
        
        if result.success:
            return {
                'success': True,
                'tx_hash': result.transaction_hash,
                'recipient': result.user.name
            }
        else:
            return {
                'success': False,
                'error': result.error,
                'recovery': '–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤—ã—à–µ'
            }
            
    except UserNotFoundError:
        return {
            'success': False,
            'error': f'–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å {username} –Ω–µ –Ω–∞–π–¥–µ–Ω',
            'recovery': '–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—Ä—Ñ–æ–≥—Ä–∞—Ñ–∏—é –∏ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è'
        }
        
    except InvalidAmountError:
        return {
            'success': False,
            'error': f'–ù–µ–≤–µ—Ä–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ: {quantity}',
            'recovery': f'–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ –º–µ–∂–¥—É 1-999999'
        }
        
    except InsufficientBalanceError as e:
        balance = api.get_wallet_balance()
        return {
            'success': False,
            'error': str(e),
            'recovery': f'–î–æ–±–∞–≤—å—Ç–µ TON –Ω–∞: {balance["address"]}',
            'current_balance': balance['balance_ton']
        }
        
    except AuthenticationError:
        return {
            'success': False,
            'error': '–°–µ—Å—Å–∏—è –∏—Å—Ç–µ–∫–ª–∞',
            'recovery': '–ò–∑–≤–ª–µ–∫–∏—Ç–µ –Ω–æ–≤—ã–µ cookies —Å fragment.com'
        }
        
    except TransactionError as e:
        return {
            'success': False,
            'error': str(e),
            'recovery': '–ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞, –∫–æ—à–µ–ª—ë–∫ –º–æ–∂–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å'
        }
        
    except NetworkError:
        return {
            'success': False,
            'error': '–û—à–∏–±–∫–∞ —Å–µ—Ç–µ–≤–æ–≥–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è',
            'recovery': '–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç, –ø–æ–≤—Ç–æ—Ä–∏—Ç–µ —Å —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π –∑–∞–¥–µ—Ä–∂–∫–æ–π'
        }

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
result = safe_buy_stars(api, 'jane_doe', 100)
if not result['success']:
    print(f"–û—à–∏–±–∫–∞: {result['error']}")
    print(f"–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ: {result['recovery']}")
else:
    print(f"–£—Å–ø–µ—à–Ω–æ: {result['tx_hash']}")
```

---

## –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

### UserInfo

–ö–ª–∞—Å—Å –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ –ø–æ–ª—É—á–µ–Ω–Ω–æ–π –æ—Ç API Fragment.

```python
from dataclasses import dataclass

@dataclass
class UserInfo:
    name: str           # –û—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    recipient: str      # –ê–¥—Ä–µ—Å –ø–æ–ª—É—á–∞—Ç–µ–ª—è –≤ –±–ª–æ–∫—á–µ–π–Ω–µ
    found: bool         # –°—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
    avatar: str = ""    # URL –∞–≤–∞—Ç–∞—Ä–∞ –∏–ª–∏ –¥–∞–Ω–Ω—ã–µ base64
```

**–ü—Ä–∏–º–µ—Ä:**
```python
user = api.get_recipient_stars('jane_doe')

print(f"–ò–º—è: {user.name}")
print(f"–ü–æ–ª—É—á–∞—Ç–µ–ª—å: {user.recipient}")
print(f"–ù–∞–π–¥–µ–Ω: {user.found}")
print(f"–ê–≤–∞—Ç–∞—Ä: {user.avatar[:100]}...")

# –í—ã–≤–æ–¥:
# –ò–º—è: Jane Doe
# –ü–æ–ª—É—á–∞—Ç–µ–ª—å: EQA1b4_TYf...
# –ù–∞–π–¥–µ–Ω: True
# –ê–≤–∞—Ç–∞—Ä: https://t.me/i/u/123456...
```

### PurchaseResult

–ö–ª–∞—Å—Å –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–ª–∞—Ç—ë–∂–Ω—ã—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π.

```python
@dataclass
class PurchaseResult:
    success: bool                    # –£—Å–ø–µ—à–Ω–æ—Å—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
    transaction_hash: Optional[str]  # –•–µ—à –±–ª–æ–∫—á–µ–π–Ω–∞ TX
    error: Optional[str]             # –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ –µ—Å–ª–∏ –Ω–µ—É–¥–∞—á–Ω–æ
    user: Optional[UserInfo]         # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—É—á–∞—Ç–µ–ª–µ
    balance_checked: bool            # –ë—ã–ª –ª–∏ –ø—Ä–æ–≤–µ—Ä–µ–Ω –±–∞–ª–∞–Ω—Å
    required_amount: Optional[float] # –í—Å–µ–≥–æ —Ç—Ä–µ–±—É–µ—Ç—Å—è TON
```

**–ü—Ä–∏–º–µ—Ä:**
```python
result = api.buy_stars('jane_doe', 100, show_sender=True)

if result.success:
    print(f"–°—Ç–∞—Ç—É—Å: –£—Å–ø–µ—à–Ω–æ")
    print(f"–•–µ—à: {result.transaction_hash}")
    print(f"–ü–æ–ª—É—á–∞—Ç–µ–ª—å: {result.user.name}")
    print(f"–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ: {result.required_amount} TON")
    print(f"–ë–∞–ª–∞–Ω—Å –ø—Ä–æ–≤–µ—Ä–µ–Ω: {result.balance_checked}")
else:
    print(f"–°—Ç–∞—Ç—É—Å: –û—à–∏–±–∫–∞")
    print(f"–û—à–∏–±–∫–∞: {result.error}")

# –í—ã–≤–æ–¥:
# –°—Ç–∞—Ç—É—Å: –£—Å–ø–µ—à–Ω–æ
# –•–µ—à: EQA1b4_TYf...
# –ü–æ–ª—É—á–∞—Ç–µ–ª—å: Jane Doe
# –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ: 0.012345 TON
# –ë–∞–ª–∞–Ω—Å –ø—Ä–æ–≤–µ—Ä–µ–Ω: True
```

### TransferResult

–ö–ª–∞—Å—Å –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø—Ä—è–º—ã—Ö –ø–µ—Ä–µ–≤–æ–¥–æ–≤ TON.

```python
@dataclass
class TransferResult:
    success: bool                    # –£—Å–ø–µ—à–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–¥–∞—á–∏
    transaction_hash: Optional[str]  # –•–µ—à –±–ª–æ–∫—á–µ–π–Ω–∞ TX
    from_address: Optional[str]      # –ê–¥—Ä–µ—Å –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è
    to_address: Optional[str]        # –ê–¥—Ä–µ—Å –ø–æ–ª—É—á–∞—Ç–µ–ª—è
    amount_ton: Optional[float]      # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤ TON
    balance_before: Optional[float]  # –ë–∞–ª–∞–Ω—Å –¥–æ –ø–µ—Ä–µ–¥–∞—á–∏
    memo: Optional[str]              # –ú–µ–º–æ—Ä–∞–Ω–¥—É–º —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
    error: Optional[str]             # –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ –µ—Å–ª–∏ –Ω–µ—É–¥–∞—á–Ω–æ
```

**–ü—Ä–∏–º–µ—Ä:**
```python
result = api.transfer_ton('jane_doe.t.me', 0.5, '–æ–ø–ª–∞—Ç–∞ –∑–∞ —É—Å–ª—É–≥–∏')

if result.success:
    print(f"–°—Ç–∞—Ç—É—Å: –£—Å–ø–µ—à–Ω–æ")
    print(f"–û—Ç: {result.from_address}")
    print(f"–ö–æ–º—É: {result.to_address}")
    print(f"–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ: {result.amount_ton} TON")
    print(f"–ú–µ–º–æ—Ä–∞–Ω–¥—É–º: {result.memo}")
    print(f"–•–µ—à: {result.transaction_hash}")
    print(f"–ë–∞–ª–∞–Ω—Å –¥–æ: {result.balance_before} TON")
else:
    print(f"–°—Ç–∞—Ç—É—Å: –û—à–∏–±–∫–∞")
    print(f"–û—à–∏–±–∫–∞: {result.error}")

# –í—ã–≤–æ–¥:
# –°—Ç–∞—Ç—É—Å: –£—Å–ø–µ—à–Ω–æ
# –û—Ç: EQDrjaLah...
# –ö–æ–º—É: EQA1b4_TYf...
# –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ: 0.5 TON
# –ú–µ–º–æ—Ä–∞–Ω–¥—É–º: –æ–ø–ª–∞—Ç–∞ –∑–∞ —É—Å–ª—É–≥–∏
# –•–µ—à: EQA1b4_TYf...
# –ë–∞–ª–∞–Ω—Å –¥–æ: 5.123456 TON
```

### WalletBalance

–ö–ª–∞—Å—Å –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –±–∞–ª–∞–Ω—Å–∞ –∫–æ—à–µ–ª—å–∫–∞.

```python
@dataclass
class WalletBalance:
    balance_nano: str    # –ë–∞–ª–∞–Ω—Å –≤ –Ω–∞–Ω–æ—Ç–æ–Ω–∞—Ö
    balance_ton: float   # –ë–∞–ª–∞–Ω—Å –≤ TON
    address: str         # –ê–¥—Ä–µ—Å –≤ –±–ª–æ–∫—á–µ–π–Ω–µ
    is_ready: bool       # –°—Ç–∞—Ç—É—Å –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫–æ—à–µ–ª—å–∫–∞
    
    def has_sufficient_balance(self, required_nano: str, fee_nano: str = "1000000") -> bool:
        """–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ª–∏ –±–∞–ª–∞–Ω—Å–∞"""
```

**–ü—Ä–∏–º–µ—Ä:**
```python
from FragmentAPI import WalletManager

manager = WalletManager(mnemonic, api_key, "V4R2")
balance = manager.get_balance_sync()

print(f"–ë–∞–ª–∞–Ω—Å: {balance.balance_ton} TON")
print(f"–ù–∞–Ω–æ: {balance.balance_nano} –Ω–∞–Ω–æ—Ç–æ–Ω–æ–≤")
print(f"–ê–¥—Ä–µ—Å: {balance.address}")
print(f"–ì–æ—Ç–æ–≤–æ: {balance.is_ready}")

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ª–∏ –¥–ª—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
if balance.has_sufficient_balance("100000000", "1000000"):  # 0.1 TON + 0.001 –∫–æ–º–∏—Å—Å–∏—è
    print("‚úì –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤ –¥–ª—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏")
else:
    print("‚úó –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤")

# –í—ã–≤–æ–¥:
# –ë–∞–ª–∞–Ω—Å: 5.123456 TON
# –ù–∞–Ω–æ: 5123456000 –Ω–∞–Ω–æ—Ç–æ–Ω–æ–≤
# –ê–¥—Ä–µ—Å: EQDrjaLah...
# –ì–æ—Ç–æ–≤–æ: True
# ‚úì –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤ –¥–ª—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
```

---

## –ü—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ü–∞–∫–µ—Ç–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫

```python
from FragmentAPI import SyncFragmentAPI, UserNotFoundError, InsufficientBalanceError

def batch_send_stars(api, recipients):
    """–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–≤—ë–∑–¥—ã –º–Ω–æ–∂–µ—Å—Ç–≤—É –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π"""
    results = []
    
    for username, quantity in recipients:
        try:
            print(f"–û—Ç–ø—Ä–∞–≤–∫–∞ {quantity} –∑–≤—ë–∑–¥ –¥–ª—è {username}...", end=" ")
            result = api.buy_stars(username, quantity, show_sender=False)
            
            if result.success:
                print(f"‚úì {result.transaction_hash[:20]}...")
                results.append({
                    'status': 'success',
                    'username': username,
                    'quantity': quantity,
                    'tx_hash': result.transaction_hash
                })
            else:
                print(f"‚úó {result.error}")
                results.append({
                    'status': 'failed',
                    'username': username,
                    'quantity': quantity,
                    'error': result.error
                })
                
        except InsufficientBalanceError as e:
            print(f"‚úó –ù–ï–î–û–°–¢–ê–¢–û–ß–ù–û –°–†–ï–î–°–¢–í")
            balance = api.get_wallet_balance()
            print(f"   –¢–µ–∫—É—â–∏–π: {balance['balance_ton']} TON")
            print(f"   –ê–¥—Ä–µ—Å: {balance['address']}")
            break  # –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É
            
        except UserNotFoundError as e:
            print(f"‚úó –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–¨ –ù–ï –ù–ê–ô–î–ï–ù")
            results.append({
                'status': 'user_not_found',
                'username': username,
                'error': str(e)
            })
            
        except Exception as e:
            print(f"‚úó –û–®–ò–ë–ö–ê: {type(e).__name__}")
            results.append({
                'status': 'error',
                'username': username,
                'error': str(e)
            })
    
    return results

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
api = SyncFragmentAPI(cookies, hash_value, mnemonic, api_key)

recipients = [
    ('user1', 10),
    ('user2', 20),
    ('user3', 15),
    ('invalid_user', 5),
    ('user4', 100)
]

results = batch_send_stars(api, recipients)

# –†–µ–∑—é–º–µ
successful = [r for r in results if r['status'] == 'success']
failed = [r for r in results if r['status'] == 'failed']
not_found = [r for r in results if r['status'] == 'user_not_found']

print(f"\n=== –†–ï–ó–Æ–ú–ï ===")
print(f"‚úì –£—Å–ø–µ—à–Ω–æ: {len(successful)}")
print(f"‚úó –û—à–∏–±–∫–∞: {len(failed)}")
print(f"‚úó –ù–µ –Ω–∞–π–¥–µ–Ω–æ: {len(not_found)}")

api.close()
```

### –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

```python
import asyncio
from FragmentAPI import AsyncFragmentAPI

async def send_batch_concurrent(api, recipients):
    """–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–≤—ë–∑–¥—ã –º–Ω–æ–∂–µ—Å—Ç–≤—É –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ"""
    tasks = [
        api.buy_stars(username, quantity, show_sender=False)
        for username, quantity in recipients
    ]
    
    # –í—ã–ø–æ–ª–Ω–∏—Ç—å –≤—Å–µ –∑–∞–¥–∞—á–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
    results = await asyncio.gather(*tasks, return_exceptions=True)
    
    return results

async def main():
    api = AsyncFragmentAPI(cookies, hash_value, mnemonic, api_key)
    
    recipients = [
        ('user1', 10),
        ('user2', 20),
        ('user3', 15),
        ('user4', 25),
        ('user5', 30)
    ]
    
    print("–û—Ç–ø—Ä–∞–≤–∫–∞ –∑–≤—ë–∑–¥ 5 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ...")
    results = await send_batch_concurrent(api, recipients)
    
    for (username, quantity), result in zip(recipients, results):
        if isinstance(result, Exception):
            print(f"‚úó {username}: {type(result).__name__}")
        elif result.success:
            print(f"‚úì {username}: {result.transaction_hash[:20]}...")
        else:
            print(f"‚úó {username}: {result.error}")
    
    await api.close()

asyncio.run(main())
```

### –ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ –ø–ª–∞—Ç–µ–∂–∏

```python
import asyncio
import time
from datetime import datetime, timedelta
from FragmentAPI import AsyncFragmentAPI

async def scheduled_payment(api, schedule):
    """–í—ã–ø–æ–ª–Ω–∏—Ç—å –ø–ª–∞—Ç–µ–∂–∏ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é"""
    
    for task in schedule:
        username = task['username']
        quantity = task['quantity']
        delay_minutes = task['delay_minutes']
        
        # –î–æ–∂–¥–∞—Ç—å—Å—è –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
        wait_seconds = delay_minutes * 60
        print(f"–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ: {username} ‚Üí {quantity} –∑–≤—ë–∑–¥ —á–µ—Ä–µ–∑ {delay_minutes} –º–∏–Ω—É—Ç")
        await asyncio.sleep(wait_seconds)
        
        # –í—ã–ø–æ–ª–Ω–∏—Ç—å –ø–ª–∞—Ç—ë–∂
        print(f"–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ: {username}...", end=" ")
        result = await api.buy_stars(username, quantity)
        
        if result.success:
            print(f"‚úì {result.transaction_hash[:20]}...")
        else:
            print(f"‚úó {result.error}")

async def main():
    api = AsyncFragmentAPI(cookies, hash_value, mnemonic, api_key)
    
    # –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ: –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–≤—ë–∑–¥—ã –≤ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã
    schedule = [
        {'username': 'user1', 'quantity': 10, 'delay_minutes': 1},
        {'username': 'user2', 'quantity': 20, 'delay_minutes': 2},
        {'username': 'user3', 'quantity': 15, 'delay_minutes': 3}
    ]
    
    await scheduled_payment(api, schedule)
    await api.close()

asyncio.run(main())
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –∫–æ—à–µ–ª—å–∫–∞–º–∏

```python
from FragmentAPI import SyncFragmentAPI

def manage_multiple_wallets():
    """–£–ø—Ä–∞–≤–ª—è—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –∫–æ—à–µ–ª—å–∫–∞–º–∏ —Å —Ä–∞–∑–Ω—ã–º–∏ –≤–µ—Ä—Å–∏—è–º–∏"""
    
    wallets = {
        'v4r2': {
            'mnemonic': '–º–Ω–µ–º–æ–Ω–∏—á–µ—Å–∫–∞—è_—Ñ—Ä–∞–∑–∞_–¥–ª—è_v4r2_–∫–æ—à–µ–ª—å–∫–∞',
            'api_key': 'api_key_1',
            'version': 'V4R2'
        },
        'v5r1': {
            'mnemonic': '–º–Ω–µ–º–æ–Ω–∏—á–µ—Å–∫–∞—è_—Ñ—Ä–∞–∑–∞_–¥–ª—è_v5r1_–∫–æ—à–µ–ª—å–∫–∞',
            'api_key': 'api_key_2',
            'version': 'V5R1'
        },
        'v3r2': {
            'mnemonic': '–º–Ω–µ–º–æ–Ω–∏—á–µ—Å–∫–∞—è_—Ñ—Ä–∞–∑–∞_–¥–ª—è_v3r2_–∫–æ—à–µ–ª—å–∫–∞',
            'api_key': 'api_key_3',
            'version': 'V3R2'
        }
    }
    
    # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å API –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–æ—à–µ–ª—å–∫–∞
    apis = {}
    for name, config in wallets.items():
        apis[name] = SyncFragmentAPI(
            cookies=cookies,
            hash_value=hash_value,
            wallet_mnemonic=config['mnemonic'],
            wallet_api_key=config['api_key'],
            wallet_version=config['version']
        )
    
    # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –±–∞–ª–∞–Ω—Å—ã
    for name, api in apis.items():
        balance = api.get_wallet_balance()
        print(f"{name}: {balance['balance_ton']} TON (–í–µ—Ä—Å–∏—è: {balance['wallet_version']})")
    
    # –í—ã–≤–æ–¥:
    # v4r2: 5.123456 TON (–í–µ—Ä—Å–∏—è: V4R2)
    # v5r1: 3.654321 TON (–í–µ—Ä—Å–∏—è: V5R1)
    # v3r2: 2.111111 TON (–í–µ—Ä—Å–∏—è: V3R2)
    
    # –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å —Ä–∞–∑–Ω—ã—Ö –∫–æ—à–µ–ª—å–∫–æ–≤
    result_v4 = apis['v4r2'].buy_stars('user1', 100)
    result_v5 = apis['v5r1'].buy_stars('user2', 50)
    result_v3 = apis['v3r2'].buy_stars('user3', 25)
    
    # –û—á–∏—Å—Ç–∫–∞
    for api in apis.values():
        api.close()

manage_multiple_wallets()
```

### –°–∏—Å—Ç–µ–º–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø–ª–∞—Ç–µ–∂–µ–π

```python
from FragmentAPI import SyncFragmentAPI, UserNotFoundError, InvalidAmountError
from FragmentAPI.utils import validate_username, validate_amount

class PaymentValidator:
    """–ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø–ª–∞—Ç–µ–∂–µ–π"""
    
    def __init__(self, api):
        self.api = api
    
    def validate_stars_payment(self, username, quantity, show_sender=False):
        """–í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –ø–ª–∞—Ç—ë–∂ –∑–≤—ë–∑–¥ –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π"""
        
        errors = []
        
        # –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        if not validate_username(username):
            errors.append(f"–ù–µ–≤–µ—Ä–Ω–æ–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: {username}")
            errors.append("  - –î–æ–ª–∂–Ω–æ –±—ã—Ç—å 5-32 —Å–∏–º–≤–æ–ª–∞")
            errors.append("  - –¢–æ–ª—å–∫–æ –±—É–∫–≤—ã, —Ü–∏—Ñ—Ä—ã, –ø–æ–¥—á—ë—Ä–∫–∏–≤–∞–Ω–∏—è")
            return {'valid': False, 'errors': errors}
        
        # –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
        if not validate_amount(quantity, 1, 999999):
            errors.append(f"–ù–µ–≤–µ—Ä–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ: {quantity}")
            errors.append("  - –î–æ–ª–∂–Ω–æ –±—ã—Ç—å –º–µ–∂–¥—É 1-999999")
            return {'valid': False, 'errors': errors}
        
        # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
        try:
            user = self.api.get_recipient_stars(username)
        except UserNotFoundError as e:
            errors.append(f"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω: {e}")
            return {'valid': False, 'errors': errors}
        
        # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –±–∞–ª–∞–Ω—Å –∫–æ—à–µ–ª—å–∫–∞
        try:
            balance = self.api.get_wallet_balance()
            # –ì—Ä—É–±–∞—è –æ—Ü–µ–Ω–∫–∞: ~0.00001 TON –∑–∞ –∑–≤–µ–∑–¥—É + 0.001 TON –∫–æ–º–∏—Å—Å–∏—è
            estimated_cost = (quantity * 0.00001) + 0.001
            
            if float(balance['balance_ton']) < estimated_cost:
                errors.append(f"–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤")
                errors.append(f"  - –¢—Ä–µ–±—É–µ—Ç—Å—è: ~{estimated_cost:.6f} TON")
                errors.append(f"  - –î–æ—Å—Ç—É–ø–Ω–æ: {balance['balance_ton']} TON")
                errors.append(f"  - –ê–¥—Ä–µ—Å: {balance['address']}")
                return {'valid': False, 'errors': errors}
        except Exception as e:
            errors.append(f"–ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–∞ –Ω–µ —É–¥–∞–ª–∞—Å—å: {e}")
            return {'valid': False, 'errors': errors}
        
        return {
            'valid': True,
            'user': user,
            'estimated_cost': estimated_cost,
            'balance': float(balance['balance_ton'])
        }

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
validator = PaymentValidator(api)

result = validator.validate_stars_payment('jane_doe', 100, show_sender=True)

if result['valid']:
    print("‚úì –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–ª–∞—Ç–µ–∂–∞ –ø—Ä–æ–π–¥–µ–Ω–∞")
    print(f"  –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: {result['user'].name}")
    print(f"  –ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å: {result['estimated_cost']:.6f} TON")
    print(f"  –ë–∞–ª–∞–Ω—Å –∫–æ—à–µ–ª—å–∫–∞: {result['balance']} TON")
    
    # –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Å –ø–ª–∞—Ç–µ–∂–æ–º
    payment_result = api.buy_stars('jane_doe', 100, show_sender=True)
else:
    print("‚úó –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–ª–∞—Ç–µ–∂–∞ –Ω–µ —É–¥–∞–ª–∞—Å—å")
    for error in result['errors']:
        print(f"  {error}")
```

---

## –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

### 1. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

**–í—Å–µ–≥–¥–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è —è–≤–Ω–æ:**

```python
from FragmentAPI import (
    UserNotFoundError,
    InsufficientBalanceError,
    AuthenticationError,
    TransactionError
)

def safe_payment(api, username, quantity):
    """–õ—É—á—à–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫"""
    
    try:
        result = api.buy_stars(username, quantity)
        
        if result.success:
            return {'status': 'success', 'tx': result.transaction_hash}
        else:
            return {'status': 'failed', 'error': result.error}
            
    except UserNotFoundError as e:
        print(f"–û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: {e}")
        return {'status': 'invalid_user', 'error': str(e)}
        
    except InsufficientBalanceError as e:
        print(f"–ë–∞–ª–∞–Ω—Å –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–µ–Ω: {e}")
        balance = api.get_wallet_balance()
        return {
            'status': 'insufficient_balance',
            'error': str(e),
            'current_balance': balance['balance_ton'],
            'address': balance['address']
        }
        
    except AuthenticationError as e:
        print(f"–°–µ—Å—Å–∏—è –∏—Å—Ç–µ–∫–ª–∞: {e}")
        return {'status': 'auth_failed', 'error': '–û–±–Ω–æ–≤–∏—Ç–µ cookies'}
        
    except TransactionError as e:
        print(f"–û—à–∏–±–∫–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏: {e}")
        return {'status': 'tx_error', 'error': str(e)}
        
    except Exception as e:
        print(f"–ù–µ–æ–∂–∏–¥–∞–Ω–Ω–∞—è –æ—à–∏–±–∫–∞: {e}")
        return {'status': 'unknown_error', 'error': str(e)}
```

### 2. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏

**–í—Å–µ–≥–¥–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∑–∞–∫—Ä—ã–≤–∞–π—Ç–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è:**

```python
# ‚úó –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û - –û—Å—Ç–∞–≤–ª—è–µ—Ç —Ä–µ—Å—É—Ä—Å—ã –æ—Ç–∫—Ä—ã—Ç—ã–º–∏
api = SyncFragmentAPI(cookies, hash_value, mnemonic, api_key)
result = api.buy_stars('username', 100)

# ‚úì –ü–†–ê–í–ò–õ–¨–ù–û - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è
with SyncFragmentAPI(cookies, hash_value, mnemonic, api_key) as api:
    result = api.buy_stars('username', 100)

# ‚úì –ü–†–ê–í–ò–õ–¨–ù–û - –Ø–≤–Ω–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ
api = SyncFragmentAPI(cookies, hash_value, mnemonic, api_key)
try:
    result = api.buy_stars('username', 100)
finally:
    api.close()

# ‚úì –ü–†–ê–í–ò–õ–¨–ù–û - –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä
async with AsyncFragmentAPI(cookies, hash_value, mnemonic, api_key) as api:
    result = await api.buy_stars('username', 100)
```

### 3. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

**–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–¥–∏—Ä—É–π—Ç–µ —É—á—ë—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**

```python
import os
from dotenv import load_dotenv

# ‚úó –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û
api = SyncFragmentAPI(
    cookies="stel_ssid=abc123",
    hash_value="xyz789",
    wallet_mnemonic="—Å–ª–æ–≤–æ —Å–ª–æ–≤–æ —Å–ª–æ–≤–æ...",
    wallet_api_key="secret_key"
)

# ‚úì –ü–†–ê–í–ò–õ–¨–ù–û
load_dotenv()

api = SyncFragmentAPI(
    cookies=os.getenv('FRAGMENT_COOKIES'),
    hash_value=os.getenv('FRAGMENT_HASH'),
    wallet_mnemonic=os.getenv('WALLET_MNEMONIC'),
    wallet_api_key=os.getenv('WALLET_API_KEY')
)
```

### 4. –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

**–í–∞–ª–∏–¥–∏—Ä—É–π—Ç–µ –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π:**

```python
from FragmentAPI.utils import validate_username, validate_amount

def send_payment(api, username, quantity):
    """–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π"""
    
    # –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
    if not validate_username(username):
        raise ValueError(f"–ù–µ–≤–µ—Ä–Ω–æ–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: {username}")
    
    if not validate_amount(quantity, 1, 999999):
        raise ValueError(f"–ù–µ–≤–µ—Ä–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ: {quantity}")
    
    # –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å
    return api.buy_stars(username, quantity)
```

### 5. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

**–í–∫–ª—é—á–∞–π—Ç–µ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:**

```python
import logging

# –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
logging.basicConfig(
    level=logging.DEBUG,
    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s',
    handlers=[
        logging.FileHandler('fragment_api.log'),
        logging.StreamHandler()
    ]
)

logger = logging.getLogger('FragmentAPI')
logger.setLevel(logging.DEBUG)

# –¢–µ–ø–µ—Ä—å –≤—Å–µ –≤—ã–∑–æ–≤—ã API –±—É–¥—É—Ç –∑–∞–ª–æ–≥–∏—Ä–æ–≤–∞–Ω—ã
api = SyncFragmentAPI(cookies, hash_value, mnemonic, api_key)
result = api.buy_stars('username', 100)
# –í—Å–µ –¥–µ—Ç–∞–ª–∏ –∑–∞–ª–æ–≥–∏—Ä–æ–≤–∞–Ω—ã –≤ —Ñ–∞–π–ª –∏ –∫–æ–Ω—Å–æ–ª—å
```

### 6. Timeout

**–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π—Ç–µ –ø–æ–¥—Ö–æ–¥—è—â–∏–µ timeout:**

```python
# –ö–æ—Ä–æ—Ç–∫–∏–π timeout –¥–ª—è –±—ã—Å—Ç—Ä—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
api_fast = SyncFragmentAPI(
    cookies, hash_value, mnemonic, api_key,
    timeout=15  # 15 —Å–µ–∫—É–Ω–¥
)

# –î–ª–∏–Ω–Ω—ã–π timeout –¥–ª—è –º–µ–¥–ª–µ–Ω–Ω—ã—Ö —Å–µ—Ç–µ–π
api_slow = SyncFragmentAPI(
    cookies, hash_value, mnemonic, api_key,
    timeout=30  # 30 —Å–µ–∫—É–Ω–¥
)
```

### 7. –õ–æ–≥–∏–∫–∞ –ø–æ–≤—Ç–æ—Ä–æ–≤

**–†–µ–∞–ª–∏–∑—É–π—Ç–µ —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω—É—é –∑–∞–¥–µ—Ä–∂–∫—É:**

```python
import time
from FragmentAPI import NetworkError

def send_with_retry(api, username, quantity, max_retries=3):
    """–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –ø–æ–≤—Ç–æ—Ä–æ–º"""
    
    for attempt in range(max_retries):
        try:
            return api.buy_stars(username, quantity)
            
        except NetworkError as e:
            if attempt < max_retries - 1:
                wait_time = 2 ** attempt  # –≠–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è: 1, 2, 4 —Å–µ–∫—É–Ω–¥—ã
                print(f"–ü–æ–≤—Ç–æ—Ä —á–µ—Ä–µ–∑ {wait_time}—Å...")
                time.sleep(wait_time)
            else:
                raise
```

### 8. –ü–∞–∫–µ—Ç–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

**–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –±–æ–ª—å—à–∏–µ –ø–∞–∫–µ—Ç—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ:**

```python
def batch_send_with_delays(api, recipients, delay_seconds=2):
    """–û—Ç–ø—Ä–∞–≤–∏—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –∑–∞–¥–µ—Ä–∂–∫–∞–º–∏"""
    
    results = []
    
    for username, quantity in recipients:
        try:
            result = api.buy_stars(username, quantity)
            results.append({
                'username': username,
                'success': result.success,
                'tx': result.transaction_hash if result.success else None
            })
        except Exception as e:
            results.append({
                'username': username,
                'success': False,
                'error': str(e)
            })
        
        # –ó–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏ –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è rate limiting
        time.sleep(delay_seconds)
    
    return results
```

---

## –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∞ "–°–µ—Å—Å–∏—è –∏—Å—Ç–µ–∫–ª–∞"

**–°–∏–º–ø—Ç–æ–º:**
```
AuthenticationError: Session expired: please update cookies
```

**–ü—Ä–∏—á–∏–Ω—ã:**
- Cookies –∏—Å—Ç–µ–∫–ª–∏ (–æ–±—ã—á–Ω–æ —á–µ—Ä–µ–∑ 1-2 –Ω–µ–¥–µ–ª–∏)
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ cookies —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã
- –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –∑–Ω–∞—á–µ–Ω–∏—è cookie

**–†–µ—à–µ–Ω–∏—è:**

1. **–û–±–Ω–æ–≤–∏—Ç—å cookies:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ fragment.com –≤ –±—Ä–∞—É–∑–µ—Ä–µ
   - –ù–∞–∂–º–∏—Ç–µ F12 ‚Üí Application ‚Üí Cookies
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤—Å–µ cookies –∑–∞–Ω–æ–≤–æ
   - –û–±–Ω–æ–≤–∏—Ç–µ –≤–∞—à —Ñ–∞–π–ª `.env`

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—Å–µ cookies:**
   ```python
   # –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤—Å–µ —ç—Ç–∏:
   # stel_ssid, stel_token, stel_dt, stel_ton_token
   
   cookies = "stel_ssid=ABC; stel_token=XYZ; stel_dt=-180; stel_ton_token=UVW"
   ```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç cookie:**
   ```python
   from FragmentAPI.utils import parse_cookies
   
   try:
       parsed = parse_cookies(cookies)
       print(f"Cookies —Ä–∞—Å–ø–∞—Ä—Å–µ–Ω—ã: {list(parsed.keys())}")
   except ValueError as e:
       print(f"–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç: {e}")
   ```

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∞ "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω"

**–°–∏–º–ø—Ç–æ–º:**
```
UserNotFoundError: User username not found: no Telegram users found
```

**–ü—Ä–∏—á–∏–Ω—ã:**
- –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–æ–µ (< 5 —Å–∏–º–≤–æ–ª–æ–≤)
- –ù–µ–≤–µ—Ä–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã –≤ –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ê–∫–∫–∞—É–Ω—Ç —É–¥–∞–ª—ë–Ω

**–†–µ—à–µ–Ω–∏—è:**

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:**
   - –ü–æ–∏—â–∏—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ Telegram
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ—á–Ω–æ–µ –Ω–∞–ø–∏—Å–∞–Ω–∏–µ
   - –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —É –Ω–∏—Ö –µ—Å—Ç—å –ø—É–±–ª–∏—á–Ω–æ–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

2. **–í–∞–ª–∏–¥–∏—Ä—É–π—Ç–µ —Ñ–æ—Ä–º–∞—Ç –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:**
   ```python
   from FragmentAPI.utils import validate_username
   
   username = 'jane_doe'
   if validate_username(username):
       print("‚úì –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç")
   else:
       print("‚úó –ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç")
       print("  - –î–æ–ª–∂–Ω–æ –±—ã—Ç—å 5-32 —Å–∏–º–≤–æ–ª–∞")
       print("  - –¢–æ–ª—å–∫–æ –±—É–∫–≤—ã, —Ü–∏—Ñ—Ä—ã, –ø–æ–¥—á—ë—Ä–∫–∏–≤–∞–Ω–∏—è")
   ```

3. **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Å –∏–∑–≤–µ—Å—Ç–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º:**
   ```python
   # –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å –∏–∑–≤–µ—Å—Ç–Ω—ã–º –ø—É–±–ª–∏—á–Ω—ã–º –∞–∫–∫–∞—É–Ω—Ç–æ–º
   user = api.get_recipient_stars('telegram')  # –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç Telegram
   print(f"‚úì –ù–∞–π–¥–µ–Ω: {user.name}")
   ```

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∞ "–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤"

**–°–∏–º–ø—Ç–æ–º:**
```
InsufficientBalanceError: Insufficient balance. Required: X.XX TON, Available: Y.YY TON
```

**–ü—Ä–∏—á–∏–Ω—ã:**
- –ë–∞–ª–∞–Ω—Å –∫–æ—à–µ–ª—å–∫–∞ —Å–ª–∏—à–∫–æ–º –Ω–∏–∑–∫–∏–π
- –ù—É–∂–µ–Ω TON –¥–ª—è –∫–æ–º–∏—Å—Å–∏–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- –ù–µ —É—á—Ç–µ–Ω—ã –∫–æ–º–∏—Å—Å–∏–∏ —Å–µ—Ç–∏

**–†–µ—à–µ–Ω–∏—è:**

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∞–ª–∞–Ω—Å:**
   ```python
   balance_info = api.get_wallet_balance()
   print(f"–ë–∞–ª–∞–Ω—Å: {balance_info['balance_ton']} TON")
   print(f"–ê–¥—Ä–µ—Å: {balance_info['address']}")
   ```

2. **–ü–æ–ø–æ–ª–Ω–∏—Ç–µ TON:**
   - –û—Ç–ø—Ä–∞–≤—å—Ç–µ TON –Ω–∞ –∞–¥—Ä–µ—Å –≤–∞—à–µ–≥–æ –∫–æ—à–µ–ª—å–∫–∞ —Å –±–∏—Ä–∂–∏/–¥—Ä—É–≥–æ–≥–æ –∫–æ—à–µ–ª—å–∫–∞
   - –î–æ–∂–¥–∏—Ç–µ—Å—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –≤ –±–ª–æ–∫—á–µ–π–Ω–µ (30-60 —Å–µ–∫—É–Ω–¥)
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∞–ª–∞–Ω—Å —Å–Ω–æ–≤–∞

3. **–£—á—Ç–∏—Ç–µ –∫–æ–º–∏—Å—Å–∏–∏:**
   ```python
   # –û—Ü–µ–Ω–∏—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ + 0.001 TON –∫–æ–º–∏—Å—Å–∏—è
   estimated_cost = 0.1 + 0.001  # 0.101 TON –º–∏–Ω–∏–º—É–º
   
   balance = api.get_wallet_balance()
   if float(balance['balance_ton']) >= estimated_cost:
       print("‚úì –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤")
   else:
       print(f"‚úó –¢—Ä–µ–±—É–µ—Ç—Å—è –º–∏–Ω–∏–º—É–º {estimated_cost} TON")
   ```

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∞ "–ù–µ–≤–µ—Ä–Ω—ã–π —Ö–µ—à" –∏–ª–∏ "–•–µ—à –∏—Å—Ç—ë–∫"

**–°–∏–º–ø—Ç–æ–º:**
```
NetworkError: Request failed
```

**–ü—Ä–∏—á–∏–Ω—ã:**
- –ó–Ω–∞—á–µ–Ω–∏–µ —Ö–µ—à–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ
- –•–µ—à –∏—Å—Ç—ë–∫
- –•–µ—à —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω —Å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞

**–†–µ—à–µ–Ω–∏—è:**

1. **–ü–µ—Ä–µ—Å–Ω–∏–º–∏—Ç–µ —Ö–µ—à:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ fragment.com
   - –ù–∞–∂–º–∏—Ç–µ F12 ‚Üí –≤–∫–ª–∞–¥–∫–∞ Network
   - –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É
   - –ù–∞–π–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å –∫ `fragment.com/api`
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä `hash` –∏–∑ Query String

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç —Ö–µ—à–∞:**
   ```python
   # –•–µ—à –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∞–ª—Ñ–∞–≤–∏—Ç–Ω–æ-—Ü–∏—Ñ—Ä–æ–≤–æ–π —Å—Ç—Ä–æ–∫–æ–π, ~30+ —Å–∏–º–≤–æ–ª–æ–≤
   hash_value = "abc123def456ghi789jkl012mno345"
   
   if len(hash_value) > 20 and hash_value.isalnum():
       print("‚úì –•–µ—à –≤—ã–≥–ª—è–¥–∏—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ")
   else:
       print("‚úó –ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Ö–µ—à–∞")
   ```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ URL –∑–∞–ø—Ä–æ—Å–∞:**
   - –©–µ–ª–∫–Ω–∏—Ç–µ –ø—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π –Ω–∞ API –∑–∞–ø—Ä–æ—Å–µ –≤ Network –≤–∫–ª–∞–¥–∫–µ
   - "Copy as cURL"
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ö–µ—à –≤ URL

### –ü—Ä–æ–±–ª–µ–º–∞: "–ù–µ–≤–µ—Ä–Ω–∞—è –≤–µ—Ä—Å–∏—è –∫–æ—à–µ–ª—å–∫–∞"

**–°–∏–º–ø—Ç–æ–º:**
```
InvalidWalletVersionError: Invalid wallet version: 'V2R1'
Supported wallet versions:
  - V4R2: WalletV4R2 - Most common wallet version
  - V5R1: WalletV5R1 - Latest wallet version (also known as W5)
  - ...
```

**–ü—Ä–∏—á–∏–Ω—ã:**
- –û–ø–µ—á–∞—Ç–∫–∞ –≤ –≤–µ—Ä—Å–∏–∏ –∫–æ—à–µ–ª—å–∫–∞
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ω–µ–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ–π –≤–µ—Ä—Å–∏–∏
- –ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –≤–µ—Ä—Å–∏–∏

**–†–µ—à–µ–Ω–∏—è:**

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –≤–µ—Ä—Å–∏—é:**
   ```python
   # ‚úó –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
   api = SyncFragmentAPI(..., wallet_version="V2R1")

   # ‚úì –ü—Ä–∞–≤–∏–ª—å–Ω–æ
   api = SyncFragmentAPI(..., wallet_version="V4R2")
   ```

2. **–û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –≤–µ—Ä—Å–∏—é –≤–∞—à–µ–≥–æ –∫–æ—à–µ–ª—å–∫–∞:**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∫–æ—à–µ–ª—å–∫–∞
   - –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –æ–±—ã—á–Ω–æ V4R2
   - V5R1 –¥–ª—è –Ω–æ–≤—ã—Ö –∫–æ—à–µ–ª—å–∫–æ–≤
   - V3R1/V3R2 –¥–ª—è —Å—Ç–∞—Ä—ã—Ö –∫–æ—à–µ–ª—å–∫–æ–≤

3. **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –≤–µ—Ä—Å–∏–∏:**
   ```python
   # –í—Å–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –≤–µ—Ä—Å–∏–∏
   "V3R1"  # –£—Å—Ç–∞—Ä–µ–≤—à–∞—è
   "V3R2"  # –£—Å—Ç–∞—Ä–µ–≤—à–∞—è
   "V4R2"  # –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
   "V5R1"  # –ü–æ—Å–ª–µ–¥–Ω—è—è
   "W5"    # –ü—Å–µ–≤–¥–æ–Ω–∏–º –¥–ª—è V5R1 (TonHub)
   ```

### –ü—Ä–æ–±–ª–µ–º–∞: "–ù–µ–≤–µ—Ä–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ" –∏–ª–∏ "–ù–µ–≤–µ—Ä–Ω–∞—è —Å—É–º–º–∞"

**–°–∏–º–ø—Ç–æ–º:**
```
InvalidAmountError: Invalid quantity: 0
```

**–ü—Ä–∏—á–∏–Ω—ã:**
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–µ–Ω—å—à–µ 1
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–æ–ª—å—à–µ 999999
- –ù–µ–≤–µ—Ä–Ω—ã–π —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö (—Å—Ç—Ä–æ–∫–∞ –≤–º–µ—Å—Ç–æ —á–∏—Å–ª–∞)

**–†–µ—à–µ–Ω–∏—è:**

1. **–í–∞–ª–∏–¥–∏—Ä—É–π—Ç–µ –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π:**
   ```python
   from FragmentAPI.utils import validate_amount
   
   # –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å
   if validate_amount(100, 1, 999999):
       print("‚úì –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ")
   else:
       print("‚úó –ù–µ–≤–µ—Ä–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ")
   ```

2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –¥–∏–∞–ø–∞–∑–æ–Ω—ã:**
   ```python
   # –ó–≤—ë–∑–¥—ã: 1-999999
   result = api.buy_stars('username', 100)  # ‚úì
   result = api.buy_stars('username', 0)    # ‚úó –°–ª–∏—à–∫–æ–º –º–∞–ª–æ
   result = api.buy_stars('username', 1000000)  # ‚úó –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ
   
   # Premium: —Ç–æ–ª—å–∫–æ 3, 6 –∏–ª–∏ 12 –º–µ—Å—è—Ü–µ–≤
   result = api.gift_premium('username', 3)   # ‚úì
   result = api.gift_premium('username', 6)   # ‚úì
   result = api.gift_premium('username', 12)  # ‚úì
   result = api.gift_premium('username', 5)   # ‚úó –ù–µ–≤–µ—Ä–Ω–æ
   
   # –ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ TON: 1-999999
   result = api.topup_ton('channel', 10)      # ‚úì
   result = api.topup_ton('channel', 0)       # ‚úó –°–ª–∏—à–∫–æ–º –º–∞–ª–æ
   ```

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∞ "–ù–µ –º–æ–≥—É –ø–æ–¥–∞—Ä–∏—Ç—å Premium"

**–°–∏–º–ø—Ç–æ–º:**
```
UserNotFoundError: Premium recipient {username} already subscribed to Premium
```

–∏–ª–∏

```
UserNotFoundError: Premium recipient {username}: cannot gift premium to this user
```

**–ü—Ä–∏—á–∏–Ω—ã:**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ –∏–º–µ–µ—Ç –ø–æ–¥–ø–∏—Å–∫—É Premium
- –£ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∞–∫—Ç–∏–≤–Ω—ã–π –ø–æ–¥–∞—Ä–æ–∫ Premium
- –ê–∫–∫–∞—É–Ω—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω
- –≠—Ç–æ –±–æ—Ç –∞–∫–∫–∞—É–Ω—Ç (–Ω–µ–ª—å–∑—è –ø–æ–¥–∞—Ä–∏—Ç—å –±–æ—Ç–∞–º)

**–†–µ—à–µ–Ω–∏—è:**

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:**
   ```python
   try:
       user = api.get_recipient_premium('username')
       if user.found:
           print("‚úì –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å Premium")
   except UserNotFoundError as e:
       print(f"‚úó –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç: {e}")
   ```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ Telegram:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –µ—Å—Ç—å –ª–∏ –∑–Ω–∞—á–æ–∫ Premium (‚≠ê)
   - –ï—Å–ª–∏ –µ—Å—Ç—å, –ø–æ–¥–∞—Ä–∏—Ç—å –Ω–µ–ª—å–∑—è

3. **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞:** –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∑–≤—ë–∑–¥—ã –≤–º–µ—Å—Ç–æ Premium
   ```python
   # –ï—Å–ª–∏ –Ω–µ–ª—å–∑—è –ø–æ–¥–∞—Ä–∏—Ç—å Premium, –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –∑–≤—ë–∑–¥—ã
   result = api.buy_stars('username', 100)
   ```

### –ü—Ä–æ–±–ª–µ–º–∞: Timeout —Å–µ—Ç–∏

**–°–∏–º–ø—Ç–æ–º:**
```
NetworkError: Request timeout after maximum retries
```

**–ü—Ä–∏—á–∏–Ω—ã:**
- –ú–µ–¥–ª–µ–Ω–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç
- –°–µ—Ä–≤–µ—Ä Fragment.com –º–µ–¥–ª–µ–Ω–Ω—ã–π
- Timeout –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∏–π

**–†–µ—à–µ–Ω–∏—è:**

1. **–£–≤–µ–ª–∏—á—å—Ç–µ timeout:**
   ```python
   api = SyncFragmentAPI(
       cookies, hash_value, mnemonic, api_key,
       timeout=30  # –£–≤–µ–ª–∏—á–∏—Ç—å —Å —É–º–æ–ª—á–∞–Ω–∏—è 15
   )
   ```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ:**
   ```bash
   # –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
   ping fragment.com
   ```

3. **–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π:**
   ```python
   import time
   from FragmentAPI import NetworkError
   
   def send_with_retry(api, username, quantity, max_retries=3):
       for attempt in range(max_retries):
           try:
               return api.buy_stars(username, quantity)
           except NetworkError:
               if attempt < max_retries - 1:
                   wait = 2 ** attempt
                   print(f"Timeout, –ø–æ–≤—Ç–æ—Ä —á–µ—Ä–µ–∑ {wait}—Å...")
                   time.sleep(wait)
               else:
                   raise
   ```

---

## –õ–∏—Ü–µ–Ω–∑–∏—è

Licensed under MIT License - see [LICENSE](LICENSE) file.

---

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–î–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ –ø—Ä–æ–±–ª–µ–º:

- üìå –ü—Ä–æ–≤–µ—Ä—å—Ç–µ [—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ Issues](https://github.com/S1qwy/fragment-api-py/issues)
- üêõ –°–æ–æ–±—â–∞–π—Ç–µ –æ–± –æ—à–∏–±–∫–∞—Ö —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º –æ–± –æ—à–∏–±–∫–µ –∏ —à–∞–≥–∞–º–∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
- üí° –ü—Ä–µ–¥–ª–∞–≥–∞–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- üìñ –î–µ–ª–∏—Ç–µ—Å—å —É–ª—É—á—à–µ–Ω–∏—è–º–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

---

## –î–∏—Å–∫–ª–µ–π–º–µ—Ä

‚ö†Ô∏è **–í–ê–ñ–ù–û:**

- –≠—Ç–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ **–ù–ï –°–í–Ø–ó–ê–ù–ê** —Å Fragment.com, Telegram –∏–ª–∏ TON Foundation
- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–∞ —Å–≤–æ–π —Ä–∏—Å–∫** - –∞–≤—Ç–æ—Ä –Ω–µ –Ω–µ—Å—ë—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –∑–∞ –ø–æ—Ç–µ—Ä–∏
- –•—Ä–∞–Ω–∏—Ç–µ —É—á—ë—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏
- –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Å –º–∞–ª—ã–º–∏ —Å—É–º–º–∞–º–∏ —Å–Ω–∞—á–∞–ª–∞
- –°–æ–±–ª—é–¥–∞–π—Ç–µ –≤—Å–µ –ø—Ä–∏–º–µ–Ω–∏–º—ã–µ –∑–∞–∫–æ–Ω—ã –∏ –ø—Ä–∞–≤–∏–ª–∞

---

## Changelog

### –í–µ—Ä—Å–∏—è 3.2.0 (–¢–µ–∫—É—â–∞—è)
- ‚úÖ **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –≤–µ—Ä—Å–∏–π –∫–æ—à–µ–ª—å–∫–æ–≤** (V3R1, V3R2, V4R2, V5R1, W5)
- ‚úÖ –£–ª—É—á—à–µ–Ω–∏—è WalletManager
- ‚úÖ –£–ª—É—á—à–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
- ‚úÖ –ü–æ–ª–Ω—ã–π –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- ‚úÖ –£–ª—É—á—à–µ–Ω–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏

### –í–µ—Ä—Å–∏—è 3.1.0
- ‚úÖ –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ/—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
- ‚úÖ –ü—Ä—è–º—ã–µ –ø–µ—Ä–µ–≤–æ–¥—ã TON
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–∞
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### –í–µ—Ä—Å–∏—è 3.0.0
- ‚úÖ –ù–∞—á–∞–ª—å–Ω—ã–π —Ä–µ–ª–∏–∑
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∑–≤—ë–∑–¥, Premium, TON
- ‚úÖ –ë–∞–∑–æ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

---

**–°–¥–µ–ª–∞–Ω–æ —Å ‚ù§Ô∏è by S1qwy**
